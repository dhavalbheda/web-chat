(this["webpackJsonpweb-chat"]=this["webpackJsonpweb-chat"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(58),s=n(59),r=n(64),i=n(63),o=n(3),l=n.n(o),d=n(30),u=n.n(d),j=(n(72),n(12)),m=n(21),b=n(11),f=(n(76),n(13)),h=n(107),O=n(33),p=n.n(O),g=n(34),x=n.n(g),v=(n(57),n(98),n(10)),N=n.n(v),A=n(16),y="CHAT_FETCH_REQUEST",w="CHAT_FETCH_SUCCESS",E="CHAT_FETCH_ERROR",S="CHAT_SET_ALERT",C="CHAT_REMOVE_ALERT",k="REQUEST_CONVERSATION",R="SET_CONVERSATION",U="UPDATE_CONVERSATION",F=n(46);F.a.initializeApp({apiKey:"AIzaSyB3mUGEeVTQn7hbmoxUNncowRjwD-5y2TI",authDomain:"digital-jalebi-ac363.firebaseapp.com",databaseURL:"https://digital-jalebi-ac363-default-rtdb.firebaseio.com",projectId:"digital-jalebi-ac363",storageBucket:"digital-jalebi-ac363.appspot.com",messagingSenderId:"105427663157",appId:"1:105427663157:web:3e564360c7852fb4abb47c",measurementId:"G-M2DJG8HX1P"});var T=F.a,V=T.firestore(),M=T.database().ref().child("conversation"),I=T.firestore.FieldValue.arrayUnion,D=T.firestore.FieldValue.arrayRemove,B=function(e){return{type:w,payload:e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:k,payload:e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:R,payload:e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:U,payload:e}},J=function(){var e=Object(A.a)(N.a.mark((function e(t,n,a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.collection("users").doc(n).get().then((function(e){var n=e.data().lastMessage;if(n){var c=n.length;n.map((function(e){c--;var n=t.findIndex((function(t){return t.uid===e})),s=Q(t,n,c);a(B(s))}))}else a(B(t))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function Q(e,t,n){if(n>=e.length)for(var a=n-e.length+1;a--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}var G=function(){var e=Object(A.a)(N.a.mark((function e(t){var n,a,c,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.uuid,a=t.sender,c=t.receiver,s=t.message,M.child(a+"-"+c).push().set({uuid:n,sender:a,receiver:c,message:s,isSeen:!1,createdAt:T.database.ServerValue.TIMESTAMP}),M.child(a+"-"+c).orderByChild("isSeen").equalTo(!1).once("value").then((function(e){var t=Object.keys(e.val()).length;V.collection("users").doc(a).update({pending:D({receiver:c,totalUnseen:t-1})}),V.collection("users").doc(a).update({pending:I({receiver:c,totalUnseen:t})}),V.collection("users").doc(c).update({lastMessage:D(a)}),V.collection("users").doc(c).update({lastMessage:I(a)}),V.collection("users").doc(a).update({lastMessage:D(c)}),V.collection("users").doc(a).update({lastMessage:I(c)})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e,t){V.collection("users").doc(t).get().then((function(n){n.data().pending.map((function(n){return n.receiver===e&&V.collection("users").doc(t).update({pending:D({receiver:e,totalUnseen:n.totalUnseen})}),null}))}))},X=function(e){e.sort((function(e,t){return e.createdAt-t.createdAt}))},z=function(e){var t=e.conversation,n=e.selectedFriend,c=e.user;return X(t),t.map((function(e,t){var s=void 0;if(null!=e.createdAt){s=new Date(e.createdAt).toLocaleString("en",{day:"numeric",month:"short"}),s+=" "+new Date(e.createdAt).toLocaleTimeString([],{timeStyle:"short"})}return e.sender===n.uid&&e.receiver===c.uid||e.sender===c.uid&&e.receiver===n.uid?Object(a.jsx)(o.Fragment,{children:Object(a.jsx)("div",{style:{textAlign:e.sender===c.uid?"right":"left"},children:Object(a.jsxs)("p",{className:e.sender===c.uid?"messageStyle right-message":"messageStyle left-message",children:[e.message,Object(a.jsx)("br",{}),Object(a.jsx)("span",{className:"message-time",children:s||""}),e.receiver!==c.uid&&Object(a.jsx)("span",{className:"message-status",children:e.isSeen?Object(a.jsx)("i",{className:"far fa-eye"}):Object(a.jsx)("i",{className:"far fa-eye-slash"})})]})})},t):Object(a.jsx)(o.Fragment,{},t)}))},q=n.p+"static/media/brand.9a2e4c42.png",Z=function(e){var t=e.friends,n=e.selectFriend,c=e.uid,s=e.selectedFriend;return t.map((function(e,t){var r=function(e){if(e.pending){var t=e.pending.filter((function(e){return e.receiver===c}));return!!t.length&&t[0].totalUnseen}return!1}(e);return Object(a.jsx)("li",{children:Object(a.jsxs)("div",{style:s.uid===e.uid?{background:"#0a762233"}:{},onClick:function(){return n(e)},children:[r&&Object(a.jsx)("span",{className:"pending-message",children:r}),Object(a.jsx)("span",{className:"icon",children:e.firstName[0].toUpperCase()+""+e.lastName[0].toUpperCase()}),Object(a.jsx)("span",{className:"title",children:e.firstName+" "+e.lastName})]},t)},t)}))},Y=function(e){var t=e.uid,n=e.selectFriend,c=e.friends,s=e.selectedFriend;return Object(a.jsx)(o.Fragment,{children:Object(a.jsxs)("div",{className:"navigation",children:[Object(a.jsxs)("div",{className:"bar-area",children:[Object(a.jsx)("div",{className:"brand-panel",onClick:function(){var e=document.getElementsByClassName("navigation")[0];window.innerWidth<600&&(e.offsetWidth<300?(e.style.width="300px",document.getElementsByClassName("bar-area")[0].style.width="300px"):(e.style.width="55px",document.getElementsByClassName("bar-area")[0].style.width="55px"))},children:Object(a.jsx)("img",{className:"brand-icon",alt:"",src:q})}),Object(a.jsxs)("div",{className:"chat-option",style:{borderBottom:"2px solid green",borderTop:"8px solid green",background:"#00800036"},children:[Object(a.jsx)("span",{className:"icon icon-private",children:Object(a.jsx)("i",{className:"fas fa-user"})}),Object(a.jsx)("span",{className:"title title-private",children:"Private"})]}),Object(a.jsx)(m.b,{to:"/group",className:"selected-option",children:Object(a.jsxs)("div",{className:"chat-option",style:{borderBottom:"8px solid green"},children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)("i",{className:"fas fa-users"})}),Object(a.jsx)("span",{className:"title",children:"Group"})]})})]}),Object(a.jsx)("ul",{children:c.length&&Object(a.jsx)(Z,{uid:t,selectFriend:n,friends:c,selectedFriend:s})})]})})},L=n.p+"static/media/chat-image.c91efea0.png",_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJGSURBVHgBzZZBktJAFIb/1yEMglVkvIAto2uztJyx9AizdCdH0MXAUtfjBk4gnMDxBDMuXKsHsIgnEBcqIunn656KBQhCmsD4V6VDkU7ypfO+7gTV1sHr4LBembwbfsQVRhFYK6jetdatQaWln+CKEoRH+/dkHxMoku24dBg1ZRuWjqKvMkpD7CgKjGT6D4FxI0RM59V241WlrTV2EEWMz4sOWCCBbCpWg10AKXk7H1b2mgKqndyJsYVQ9FRH47L6kuskogtmdL+ffjpDQSHbVFsNCxIhZxicyPZidJr0sWEcSK3VeM9iDjyTAVXGeDPsJF6mBbbJFIZnMvUnAR6X79/YDx7Uk7zqK9fOKbwBkJbmuY9pDmSZwhslp/qXI7KOwhsC1doH59fbtx8t6+aK1Udhf67FplH2w8J8C6FDhZsMpRVDG+aYyGpNhU9i80C07onhiY7LUDErPJSrHMNj3lkGRCk/mwGxRRWYMEKQxoZRJ6s0UyTVLHtoFJuhXL+Xjk131EmS6RoZoKCnXAVgjOlUJuhOT34l2/wKQw2k24aYARjNHXQgioxOsZ0w8wUT97KiHC3p50BS8F0UHAdgrXiZvF2nvwMRd+xHUDEA4DOB6KwLMANi1wjejMS9f0zQtwbAIw5EnsB3wlpogBeIUzentnYSks+0zt5P019kgBfIZK8kk5VZq/N8Af5AcSkR88rRyGuAF8g/1WX0DExvmwB/QC5X1hljCivAXCB2mWf+G6CIAswFIjeXBZab2Rf4rgH+u/wG/EI5+joR+/8AAAAASUVORK5CYII=",$=function(e){var t=e.text,n=e.setText,c=e.setEmojiPickerClick,s=e.sendMessage,r=e.emojiPickerClick,i=e.onEmojiClick;return Object(a.jsx)(o.Fragment,{children:Object(a.jsxs)("div",{className:"chat-control",children:[Object(a.jsxs)("div",{className:"control",children:[Object(a.jsx)("textarea",{placeholder:"Enter Text...",value:t,onChange:function(e){"\n"!==e.target.value[e.target.value.length-1]?n(e.target.value):s()}}),Object(a.jsx)("span",{className:"smile-icon",onClick:function(e){return c(!r)},children:Object(a.jsx)("i",{className:"fas fa-smile"})}),Object(a.jsx)("span",{className:"send-icon",onClick:s,children:Object(a.jsx)("img",{style:{width:"30px"},src:_,alt:""})})]}),r&&Object(a.jsx)(x.a,{onEmojiClick:i})]})})},ee=function(e){var t=Object(j.c)((function(e){return e.User})).user,n=Object(j.c)((function(e){return e.Chat})).conversation,c=Object(j.c)((function(e){return e.Chat})).friends,s=Object(o.useState)(!1),r=Object(f.a)(s,2),i=r[0],l=r[1],d=Object(o.useState)({}),u=Object(f.a)(d,2),m=u[0],b=u[1],O=Object(o.useState)(""),g=Object(f.a)(O,2),x=g[0],v=g[1],y=Object(o.useState)(!1),w=Object(f.a)(y,2),E=w[0],S=w[1],C=Object(j.b)();Object(o.useEffect)((function(){var e;C((e=t.uid,function(){var t=Object(A.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:V.collection("users").onSnapshot((function(t){var a=[];t.forEach((function(t){t.data().uid!==e&&a.push(t.data())})),a.length&&J(a,e,n)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[C,t.uid]),Object(o.useEffect)((function(){return function(){return e=t.uid,n=m.uid,M.child(e+"-"+n).off("child_added"),M.child(e+"-"+n).off("child_changed"),void M.child(n+"-"+e).off("child_added");var e,n}}),[m,t.uid]);return Object(a.jsx)(o.Fragment,{children:Object(a.jsxs)("div",{className:"main-container",children:[Object(a.jsx)(Y,{uid:t.uid,selectFriend:function(e){m&&m.uid===e.uid||(l(!0),S(!1),v(""),b(e),C(function(e){var t=e.sender,n=e.receiver;return function(){var e=Object(A.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(P()),M.child(t+"-"+n).on("child_added",(function(e){a(H(e.val()))})),M.child(n+"-"+t).on("child_added",(function(e){e.val().isSeen||(M.child(n+"-"+t).child(e.key).update({isSeen:!0}),V.collection("users").doc(n).update({pending:D({reciver:t})}),W(t,n)),a(H(e.val()))})),M.child(t+"-"+n).on("child_changed",(function(e){a(K(e.val()))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({sender:t.uid,receiver:e.uid})))},friends:c,selectedFriend:m}),Object(a.jsx)("div",{className:"container-body",onClick:function(){if(window.innerWidth<600){var e=document.getElementsByClassName("navigation")[0];e.offsetWidth>55&&(e.style.width="55px",document.getElementsByClassName("bar-area")[0].style.width="55px")}},children:i?Object(a.jsxs)(o.Fragment,{children:[Object(a.jsx)("div",{className:"friend-name",children:Object(a.jsx)("span",{children:i&&m.firstName+" "+m.lastName})}),Object(a.jsx)(p.a,{className:"message-section",children:Object(a.jsx)(z,{conversation:n,selectedFriend:m,user:t})}),Object(a.jsx)($,{text:x,setText:v,setEmojiPickerClick:S,sendMessage:function(){if(""!==x){v("");var e={uuid:Object(h.a)(),sender:t.uid,receiver:m.uid,message:x};G(e)}},emojiPickerClick:E,onEmojiClick:function(e,t){var n=t.emoji;v(x+n)}})]}):Object(a.jsx)("div",{className:"chat-image-div",children:Object(a.jsx)("img",{className:"temp",style:{width:"100%"},src:L,alt:""})})})]})})},te=n(5),ne=n(65),ae=function(e){var t=e.Component,n=e.path,c=Object(ne.a)(e,["Component","path"]),s=Object(j.c)((function(e){return e.User})).authenticated;return Object(a.jsx)(o.Fragment,{children:s?Object(a.jsx)(b.b,Object(te.a)(Object(te.a)({exact:!0},c),{},{path:n,render:t})):Object(a.jsx)(b.a,{to:"/signin"})})},ce="ROOM_FETCH_REQUEST",se="ROOM_FETCH_SUCCESS",re="ROOM_FETCH_ERROR",ie="ROOM_SET_ALERT",oe="ROOM_REMOVE_ALERT",le="ROOM_REQUEST_CONVERSATION",de="ROOM_SET_CONVERSATION",ue="UPDATE_CONVERSATION",je=T.firestore(),me=T.database().ref().child("rooms"),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:le,payload:e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:de,payload:e}},he=function(){var e=Object(A.a)(N.a.mark((function e(t){var n,a,c,s,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.uuid,a=t.name,c=t.sender,s=t.roomid,r=t.message,me.child(s).push().set({uuid:n,name:a,sender:c,roomid:s,message:r,createdAt:T.database.ServerValue.TIMESTAMP});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(e){var t=e.rooms,n=e.selectedRoom,c=e.selectRoom;return t.map((function(e,t){return Object(a.jsx)("li",{children:Object(a.jsxs)("div",{style:n.uid===e.uid?{background:"#0a762233"}:{},onClick:function(){return c(e)},children:[Object(a.jsx)("span",{children:Object(a.jsx)("img",{className:"icon",width:"45px",style:{background:"none"},src:"data:image/png;base64,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",alt:""})}),Object(a.jsx)("span",{className:"title",children:e.name})]},t)},t)}))},pe=function(e){var t=e.uid,n=e.rooms,c=e.selectRoom,s=e.selectedRoom;return Object(a.jsx)(o.Fragment,{children:Object(a.jsxs)("div",{className:"navigation",children:[Object(a.jsxs)("div",{className:"bar-area",children:[Object(a.jsx)("div",{className:"brand-panel",onClick:function(){var e=document.getElementsByClassName("navigation")[0];e.offsetWidth<300?(e.style.width="300px",document.getElementsByClassName("bar-area")[0].style.width="300px"):(e.style.width="55px",document.getElementsByClassName("bar-area")[0].style.width="55px")},children:Object(a.jsx)("img",{className:"brand-icon",alt:"",src:q})}),Object(a.jsx)(m.b,{to:"/",className:"selected-option",children:Object(a.jsxs)("div",{className:"chat-option",style:{borderBottom:"2px solid green",borderTop:"8px solid green"},children:[Object(a.jsx)("span",{className:"icon icon-private",children:Object(a.jsx)("i",{class:"fas fa-user"})}),Object(a.jsx)("span",{className:"title title-private",children:"Private"})]})}),Object(a.jsxs)("div",{className:"chat-option",style:{borderBottom:"8px solid green",background:"#00800036"},children:[Object(a.jsx)("span",{className:"icon",children:Object(a.jsx)("i",{class:"fas fa-users"})}),Object(a.jsx)("span",{className:"title",children:"Group"})]})]}),Object(a.jsx)("ul",{children:n.length>0&&Object(a.jsx)(Oe,{uid:t,selectRoom:c,rooms:n,selectedRoom:s})})]})})},ge=function(e){e.sort((function(e,t){return e.createdAt-t.createdAt}))},xe=function(e){var t=e.conversation,n=e.selectedRoom,c=e.user;return ge(t),t.map((function(e,t){var s=void 0;if(null!=e.createdAt){s=new Date(e.createdAt).toLocaleString("en",{day:"numeric",month:"short"}),s+=" "+new Date(e.createdAt).toLocaleTimeString([],{timeStyle:"short"})}return e.roomid===n.uid?Object(a.jsx)(o.Fragment,{children:Object(a.jsx)("div",{style:{textAlign:e.sender===c.uid?"right":"left"},children:Object(a.jsxs)("p",{className:e.sender===c.uid?"messageStyle right-message":"messageStyle left-message",children:[Object(a.jsx)("span",{className:"sender-message",children:e.name}),Object(a.jsx)("br",{}),e.message,Object(a.jsx)("br",{}),Object(a.jsx)("span",{className:"message-time",children:s||""})]})})},t):Object(a.jsx)(o.Fragment,{},t)}))},ve=function(e){var t=e.text,n=e.setText,c=e.setEmojiPickerClick,s=e.sendMessage,r=e.emojiPickerClick,i=e.onEmojiClick;return Object(a.jsx)(o.Fragment,{children:Object(a.jsxs)("div",{className:"chat-control",children:[Object(a.jsxs)("div",{className:"control",children:[Object(a.jsx)("textarea",{placeholder:"Enter Text...",value:t,onChange:function(e){"\n"!==e.target.value[e.target.value.length-1]?n(e.target.value):s()}}),Object(a.jsx)("span",{className:"smile-icon",onClick:function(e){return c(!r)},children:Object(a.jsx)("i",{className:"fas fa-smile"})}),Object(a.jsx)("span",{className:"send-icon",onClick:s,children:Object(a.jsx)("img",{style:{width:"30px"},src:_,alt:""})})]}),r&&Object(a.jsx)(x.a,{onEmojiClick:i})]})})},Ne=function(){var e=Object(j.c)((function(e){return e.User})).user,t=Object(j.c)((function(e){return e.Room})),n=t.rooms,c=t.conversation,s=Object(o.useState)(!1),r=Object(f.a)(s,2),i=r[0],l=r[1],d=Object(o.useState)({}),u=Object(f.a)(d,2),m=u[0],b=u[1],O=Object(o.useState)(""),g=Object(f.a)(O,2),x=g[0],v=g[1],y=Object(o.useState)(!1),w=Object(f.a)(y,2),E=w[0],S=w[1],C=Object(j.b)();Object(o.useEffect)((function(){C(function(){var e=Object(A.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.collection("rooms").onSnapshot((function(e){var n=[];e.forEach((function(e){e.data().name.map((function(e){return n.push(e)}))})),t({type:se,payload:n})})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[C]),Object(o.useEffect)((function(){return function(){var e;(e=m.uid)&&me.child(e).off("child_added")}}),[m]);return Object(a.jsx)(o.Fragment,{children:Object(a.jsxs)("div",{className:"main-container",children:[Object(a.jsx)(pe,{uid:e.uid,rooms:n,selectRoom:function(e){var t;m&&m.uid===e.uid||(i||l(!0),b(e),S(!1),v(""),C((t=e.uid,function(){var e=Object(A.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(be()),me.child(t).on("child_added",(function(e){n(fe(e.val()))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))},selectedRoom:m}),Object(a.jsx)("div",{className:"container-body",onClick:function(){if(window.innerWidth<600){var e=document.getElementsByClassName("navigation")[0];e.offsetWidth>55&&(e.style.width="55px",document.getElementsByClassName("bar-area")[0].style.width="55px")}},children:i?Object(a.jsxs)(o.Fragment,{children:[Object(a.jsx)("div",{className:"friend-name",children:Object(a.jsx)("span",{children:i&&m.name})}),Object(a.jsx)(p.a,{className:"message-section",children:i&&Object(a.jsx)(xe,{conversation:c,selectedRoom:m,user:e})}),Object(a.jsx)(ve,{text:x,setText:v,setEmojiPickerClick:S,sendMessage:function(){if(""!==x){var t={uuid:Object(h.a)(),name:e.firstName+" "+e.lastName,sender:e.uid,roomid:m.uid,message:x};he(t),v("")}},emojiPickerClick:E,onEmojiClick:function(e,t){var n=t.emoji;v(x+n)}})]}):Object(a.jsx)("div",{className:"chat-image-div",children:Object(a.jsx)("img",{className:"temp",style:{width:"100%"},src:L,alt:""})})})]})})},Ae=(n(103),"USER_FETCH_REQUEST"),ye="USER_FETCH_SUCCESS",we="USER_FETCH_ERROR",Ee="USER_LOG_OUT",Se="SET_ALERT",Ce="REMOVE_ALERT",ke="TAB_CHANGE",Re=T.firestore(),Ue=T.auth(),Fe=function(){return{type:Ae,payload:null}},Te=function(e){return{type:ye,payload:e}},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:we,payload:e}},Me=function(e){return{type:Se,payload:e}},Ie=function(e){return{type:Ce,payload:e}},De=function(e,t){Ue.createUserWithEmailAndPassword(e.email,e.password).then((function(n){Be(n,e,t)})).catch((function(e){t(Me({type:"danger",message:e.message})),setTimeout((function(){return t(Ie())}),3e3)}))},Be=function(e,t,n){var a=t.firstName,c=t.lastName,s=t.email;Ue.currentUser.updateProfile({firstName:a,lastName:c}).then((function(){Pe(e.user.uid,a,c,s,n)}))},Pe=function(e,t,n,a,c){Re.collection("users").doc(e).set({firstName:t,lastName:n,email:a,uid:e,isActive:!0,pending:[],lastMessage:null,createdAt:new Date}).then((function(){c(Te({firstName:t,lastName:n,email:a,uid:e})),c(Me({type:"success",message:"User Registerd Successfull"})),setTimeout((function(){return c(Ie())}),3e3)})).catch((function(e){c(Me({type:"danger",message:e.message})),setTimeout((function(){return c(Ie())}),3e3)}))},He=function(e){var t=e.alert;return Object(a.jsx)(o.Fragment,{children:Object(a.jsx)("div",{className:"alert alert-".concat(t.type," alert-dismissible fade show mt-3"),style:{zIndex:1},role:"alert",children:Object(a.jsxs)("strong",{children:[t.message," !"]})})})},Ke=(n(104),function(){var e=Object(j.c)((function(e){return e.User})),t=e.userAlert,n=e.authenticated,c=Object(o.useState)(""),s=Object(f.a)(c,2),r=s[0],i=s[1],l=Object(o.useState)(""),d=Object(f.a)(l,2),u=d[0],h=d[1],O=Object(j.b)(),p=function(e){var t;e.preventDefault(),O((t={email:r,password:u},function(){var e=Object(A.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===t.email||t.password<6?(n(Me({type:"warning",message:"Email is required!\n Password Must be more than 6 letter"})),setTimeout((function(){return n(Ie())}),3e3)):(n(Fe()),Ue.signInWithEmailAndPassword(t.email,t.password).then((function(e){Re.collection("users").doc(e.user.uid).update({isActive:!0}).then((function(){localStorage.setItem("userId",e.user.uid),n(Me({type:"success",message:"Sign In Successfully"})),setTimeout((function(){return n(Ie())}),3e3)})).catch((function(e){n(Me({type:"danger",message:e.message})),setTimeout((function(){return n(Ie())}),3e3)}))})).catch((function(e){n(Me({type:"danger",message:e.message})),setTimeout((function(){return n(Ie())}),3e3)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(a.jsxs)("div",{className:"container",children:[t&&Object(a.jsx)(He,{alert:t}),n&&Object(a.jsx)(b.a,{to:"/"}),Object(a.jsx)("div",{className:"row justify-content-center justify-content-md-center",children:Object(a.jsx)("div",{className:"col-10 col-md-4 login-form align-self-center py-3",children:Object(a.jsxs)("form",{children:[Object(a.jsx)("div",{className:"form-group row",children:Object(a.jsx)("img",{alt:"signin",src:"https://media.giphy.com/media/kcZlnhiaB1p76tKS6S/giphy.gif"})}),Object(a.jsx)("div",{className:"form-group row ",children:Object(a.jsxs)("div",{className:"col-12 col-md-11 offset-md-1",children:[Object(a.jsx)("div",{className:"form-group row",children:Object(a.jsx)("label",{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Email"})}),Object(a.jsx)("div",{className:"form-group row mb-4",children:Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)("input",{type:"text",className:"form-control",id:"staticEmail",placeholder:"email@example.com",value:r,onChange:function(e){return i(e.target.value)}})})})]})}),Object(a.jsx)("div",{className:"form-group row",children:Object(a.jsxs)("div",{className:"col-12 col-md-11 offset-md-1",children:[Object(a.jsx)("div",{className:"form-group row",children:Object(a.jsx)("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label",children:"Password"})}),Object(a.jsx)("div",{className:"form-group row mb-4",children:Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)("input",{type:"password",className:"form-control",id:"inputPassword",placeholder:"Enter Password",value:u,onChange:function(e){return h(e.target.value)}})})})]})}),Object(a.jsxs)("div",{className:"form-group row justify-content-center",children:[Object(a.jsx)("button",{className:"btn btn-custom m-2",onClick:function(e){return p(e)},children:"Sign In"}),Object(a.jsx)(m.c,{to:"/signup",className:"btn btn-custom m-2",children:"Sign Up"})]})]})})})]})}),Je=function(){var e=Object(j.c)((function(e){return e.User})),t=e.userAlert,n=e.authenticated,c=Object(o.useState)(""),s=Object(f.a)(c,2),r=s[0],i=s[1],l=Object(o.useState)(""),d=Object(f.a)(l,2),u=d[0],h=d[1],O=Object(o.useState)(""),p=Object(f.a)(O,2),g=p[0],x=p[1],v=Object(o.useState)(""),N=Object(f.a)(v,2),A=N[0],y=N[1],w=Object(o.useState)(""),E=Object(f.a)(w,2),S=E[0],C=E[1],k=Object(j.b)(),R=function(e){e.preventDefault(),k(function(e,t){return function(n){e.password!==t?(n(Me({type:"danger",message:"Password and Confirm Password does not match"})),setTimeout((function(){return n(Ie())}),3e3)):(n(Fe()),De(e,n))}}({firstName:r,lastName:u,email:g,password:A},S))};return Object(a.jsxs)("div",{className:"container",children:[n&&Object(a.jsx)(b.a,{to:"/"}),t&&Object(a.jsx)(He,{alert:t}),Object(a.jsx)("div",{className:"row justify-content-center justify-content-md-center",children:Object(a.jsx)("div",{className:"col-10 col-md-4 login-form align-self-center",children:Object(a.jsxs)("form",{children:[Object(a.jsx)("div",{className:"form-group row",children:Object(a.jsx)("img",{alt:"signin",src:"https://media.giphy.com/media/kcZlnhiaB1p76tKS6S/giphy.gif"})}),Object(a.jsx)("div",{className:"form-group row",children:Object(a.jsx)("label",{htmlFor:"staticEmail",className:"col col-form-label align-self-start ml-md-5",children:"First Name"})}),Object(a.jsx)("div",{className:"form-group row justify-content-center mb-4",children:Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter First Name",value:r,onChange:function(e){return i(e.target.value)}})})}),Object(a.jsx)("div",{className:"form-group row",children:Object(a.jsx)("label",{htmlFor:"staticEmail",className:"col col-form-label align-self-start ml-md-5",children:"Last Name"})}),Object(a.jsx)("div",{className:"form-group row justify-content-center mb-4",children:Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Last Name",value:u,onChange:function(e){return h(e.target.value)}})})}),Object(a.jsx)("div",{className:"form-group row",children:Object(a.jsx)("label",{htmlFor:"staticEmail",className:"col col-form-label align-self-start ml-md-5",children:"Email"})}),Object(a.jsx)("div",{className:"form-group row justify-content-center mb-4",children:Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter Email Id",value:g,onChange:function(e){return x(e.target.value)}})})}),Object(a.jsx)("div",{className:"form-group row",children:Object(a.jsx)("label",{htmlFor:"inputPassword",className:"col col-form-label ml-md-5",children:"Password"})}),Object(a.jsx)("div",{className:"form-group row justify-content-center mb-4",children:Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter Password",value:A,onChange:function(e){return y(e.target.value)}})})}),Object(a.jsx)("div",{className:"form-group row",children:Object(a.jsx)("label",{htmlFor:"inputPassword",className:"col col-form-label ml-md-5",children:"Confirm Password"})}),Object(a.jsx)("div",{className:"form-group row justify-content-center mb-4",children:Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter Confirm Password",value:S,onChange:function(e){return C(e.target.value)}})})}),Object(a.jsxs)("div",{className:"form-group row justify-content-center",children:[Object(a.jsx)("button",{className:"btn btn-custom m-2",onClick:function(e){return R(e)},children:"Sign Up"}),Object(a.jsx)(m.c,{to:"/signin",className:"btn btn-custom m-2",children:"I Have Account"})]})]})})})]})},Qe=function(){var e=Object(j.b)();return Object(o.useEffect)((function(){e((function(e){Ue.onAuthStateChanged(function(){var t=Object(A.a)(N.a.mark((function t(n){var a,c,s,r,i,o,l;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=8;break}return a=T.firestore().collection("users").doc(n.uid),t.next=4,a.get();case 4:(c=t.sent).exists?(s=c.data(),r=s.firstName,i=s.lastName,o=s.email,l=s.uid,e(Te({firstName:r,lastName:i,email:o,uid:l}))):(e(Me({type:"danger",message:"Your Account Terminated, So Please Register With New Email.."})),setTimeout((function(){return e(Ie())}),3e3),e(Ve(""))),t.next=11;break;case 8:e(Me({type:"warning",message:"You Logged Out Please Login"})),setTimeout((function(){return e(Ie())}),3e3),e(Ve(""));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}),[e]),Object(a.jsx)("div",{className:"App",style:{height:"100%"},children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(b.b,{path:"/signin",component:Ke}),Object(a.jsx)(b.b,{path:"/signup",component:Je}),Object(a.jsx)(ae,{exact:!0,path:"/group",component:Ne}),Object(a.jsx)(ae,{exact:!0,path:"/",component:ee})]})})},Ge=n(23),We=n(61),Xe=n(62),ze={user:{},authenticated:!1,currentTab:null,loadding:!1,userAlert:null},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Ae:return Object(te.a)(Object(te.a)({},e),{},{loadding:!0});case ye:return Object(te.a)(Object(te.a)({},e),{},{user:a,loadding:!1,authenticated:!0});case we:case Ee:return Object(te.a)(Object(te.a)({},e),{},{user:{},loadding:!1,authenticated:!1});case ke:return Object(te.a)(Object(te.a)({},e),{},{currentTab:a});case Se:return Object(te.a)(Object(te.a)({},e),{},{userAlert:a});case Ce:return Object(te.a)(Object(te.a)({},e),{},{userAlert:null});default:return e}},Ze=n(26),Ye={friends:[],conversation:[],loadding:!1,chatAlert:null},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case y:return Object(te.a)(Object(te.a)({},e),{},{loadding:!0});case w:return Object(te.a)(Object(te.a)({},e),{},{friends:a,loadding:!1});case E:return Object(te.a)(Object(te.a)({},e),{},{friends:[],loadding:!1});case k:return Object(te.a)(Object(te.a)({},e),{},{loadding:!0,conversation:[]});case R:return Object(te.a)(Object(te.a)({},e),{},{conversation:[].concat(Object(Ze.a)(e.conversation),[a]),loadding:!1});case U:var c=e.conversation.filter((function(e){return e.uuid!==a.uuid}));return Object(te.a)(Object(te.a)({},e),{},{conversation:[].concat(Object(Ze.a)(c),[a]),loadding:!1});case S:return Object(te.a)(Object(te.a)({},e),{},{chatAlert:a});case C:return Object(te.a)(Object(te.a)({},e),{},{chatAlert:null});default:return e}},_e={rooms:[],conversation:[],loadding:!1,roomAlert:null},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case ce:return Object(te.a)(Object(te.a)({},e),{},{loadding:!0});case se:return Object(te.a)(Object(te.a)({},e),{},{rooms:a,loadding:!1});case re:return Object(te.a)(Object(te.a)({},e),{},{rooms:[],loadding:!1});case le:return Object(te.a)(Object(te.a)({},e),{},{loadding:!0,conversation:[]});case de:return Object(te.a)(Object(te.a)({},e),{},{conversation:[].concat(Object(Ze.a)(e.conversation),[a]),loadding:!1});case ue:var c=e.conversation.filter((function(e){return e.uuid!==a.uuid}));return Object(te.a)(Object(te.a)({},e),{},{conversation:[].concat(Object(Ze.a)(c),[a]),loadding:!1});case ie:return Object(te.a)(Object(te.a)({},e),{},{roomAlert:a});case oe:return Object(te.a)(Object(te.a)({},e),{},{roomAlert:null});default:return e}},et=Object(Ge.combineReducers)({User:qe,Chat:Le,Room:$e}),tt=Object(Ge.createStore)(et,Object(We.composeWithDevTools)(Object(Ge.applyMiddleware)(Xe.a))),nt=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",(function(){return"show warning"}))}},{key:"render",value:function(){return Object(a.jsx)("div",{})}}]),n}(o.Component);u.a.render(Object(a.jsx)(l.a.StrictMode,{children:Object(a.jsxs)(j.a,{store:tt,children:[Object(a.jsx)(Qe,{}),Object(a.jsx)(nt,{})]})}),document.getElementById("root"))},57:function(e,t,n){},72:function(e,t,n){},76:function(e,t,n){},98:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.7936b393.chunk.js.map