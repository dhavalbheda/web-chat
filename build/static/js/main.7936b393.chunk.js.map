{"version":3,"sources":["Redux/Chat/ActionType.js","config/firebaseConfig.js","Redux/Chat/ChatActions.js","Components/ChatComponent/ConversationComponent.js","Components/Utils/images/brand.png","Components/ChatComponent/Sidebar.js","Components/Utils/images/chat-image.png","Components/Utils/images/send-icon.png","Components/ChatComponent/Chat.js","Components/Layout/PrivateRoute.js","Redux/Room/ActionType.js","Redux/Room/RoomAction.js","Components/RoomComponent/Sidebar.js","Components/Utils/images/user-icon.png","Components/RoomComponent/ConversationComponent.js","Components/RoomComponent/Room.js","Redux/User/ActionType.js","Redux/User/UserActions.js","Components/Layout/Alert.js","Components/SignInComponent/SignIn.js","Components/SignUpComponent/SignUp.js","App.js","Redux/User/UserReducer.js","Redux/Chat/ChatReducer.js","Redux/Room/RoomReducer.js","Redux/rootReducer.js","Redux/store.js","index.js"],"names":["CHAT_FETCH_REQUEST","CHAT_FETCH_SUCCESS","CHAT_FETCH_ERROR","CHAT_SET_ALERT","CHAT_REMOVE_ALERT","REQUEST_CONVERSATION","SET_CONVERSATION","UPDATE_CONVERSATION","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","rdb","database","ref","child","arrayUnion","FieldValue","arrayRemove","chatSuccess","data","type","payload","requestConversation","setConversation","updateConversation","getLastSender","friends","uid","dispatch","a","collection","doc","get","then","user","lastMessage","index","length","map","item","oldIndex","findIndex","friend","newArray","array_move","arr","old_index","new_index","k","push","undefined","splice","saveMessage","uuid","sender","receiver","message","set","isSeen","createdAt","ServerValue","TIMESTAMP","orderByChild","equalTo","once","totalUnseen","Object","keys","val","update","pending","removeTotalUnseen","snap","sortCoversation","sort","b","ConversationComponent","conversation","selectedFriend","key","Date","toLocaleString","day","month","toLocaleTimeString","timeStyle","style","textAlign","className","LoadFriends","selectFriend","flg","filter","checkUnseen","background","onClick","firstName","toUpperCase","lastName","Sidebar","bar","document","getElementsByClassName","window","innerWidth","offsetWidth","width","alt","src","brandIcon","borderBottom","borderTop","to","ControlComponent","text","setText","setEmojiPickerClick","sendMessage","emojiPickerClick","onEmojiClick","placeholder","value","onChange","e","target","sendIcon","Chat","props","useSelector","state","User","useState","startChat","setStartChat","setSelectedFriend","useDispatch","useEffect","onSnapshot","querySnapshot","forEach","off","on","reciver","getConversation","uuidv4","event","emoji","chatImage","PrivateRoute","Component","path","rest","authenticated","exact","render","ROOM_FETCH_REQUEST","ROOM_FETCH_SUCCESS","ROOM_FETCH_ERROR","ROOM_SET_ALERT","ROOM_REMOVE_ALERT","ROOM_REQUEST_CONVERSATION","ROOM_SET_CONVERSATION","name","roomid","LoadRooms","rooms","selectedRoom","selectRoom","room","class","Room","setSelecedRoom","unsubscribe","USER_FETCH_REQUEST","USER_FETCH_SUCCESS","USER_FETCH_ERROR","USER_LOG_OUT","SET_ALERT","REMOVE_ALERT","TAB_CHANGE","auth","fetchRequest","fetchSuccess","fetchError","error","setAlert","removeAlert","registerUserWithEmail","createUserWithEmailAndPassword","email","password","updateCurrentUserDetail","catch","setTimeout","currentUser","updateProfile","saveToDatabase","isActive","Alert","alert","zIndex","role","SignIn","userAlert","setEmail","setPassword","onsubmit","preventDefault","signInWithEmailAndPassword","localStorage","setItem","htmlFor","id","SignUp","setFirstName","setLastName","confirmPassword","setConfirmPassword","signUpUser","App","onAuthStateChanged","userRef","exists","height","component","initialState","currentTab","loadding","UserReducer","action","chatAlert","ChatReducer","roomAlert","RoomReducer","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","BrowserUnload","addEventListener","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7936b393.chunk.js","sourcesContent":["export const CHAT_FETCH_REQUEST = 'CHAT_FETCH_REQUEST';\r\nexport const CHAT_FETCH_SUCCESS = 'CHAT_FETCH_SUCCESS';\r\nexport const CHAT_FETCH_ERROR = 'CHAT_FETCH_ERROR';\r\nexport const CHAT_SET_ALERT = 'CHAT_SET_ALERT';\r\nexport const CHAT_REMOVE_ALERT = 'CHAT_REMOVE_ALERT';\r\nexport const REQUEST_CONVERSATION = 'REQUEST_CONVERSATION'; \r\nexport const SET_CONVERSATION = 'SET_CONVERSATION';\r\nexport const UPDATE_CONVERSATION = 'UPDATE_CONVERSATION';\r\n\r\n","\r\nimport firebase from 'firebase';\r\n\r\n// Configuration of Firebase\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB3mUGEeVTQn7hbmoxUNncowRjwD-5y2TI\",\r\n  authDomain: \"digital-jalebi-ac363.firebaseapp.com\",\r\n  databaseURL: \"https://digital-jalebi-ac363-default-rtdb.firebaseio.com\",\r\n  projectId: \"digital-jalebi-ac363\",\r\n  storageBucket: \"digital-jalebi-ac363.appspot.com\",\r\n  messagingSenderId: \"105427663157\",\r\n  appId: \"1:105427663157:web:3e564360c7852fb4abb47c\",\r\n  measurementId: \"G-M2DJG8HX1P\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;\r\n","import  { CHAT_FETCH_REQUEST, CHAT_FETCH_ERROR, CHAT_FETCH_SUCCESS, CHAT_SET_ALERT, CHAT_REMOVE_ALERT, REQUEST_CONVERSATION, SET_CONVERSATION, UPDATE_CONVERSATION } from './ActionType'\r\nimport firebase from './../../config/firebaseConfig';\r\n\r\nconst db = firebase.firestore();\r\nconst rdb = firebase.database().ref().child('conversation');\r\nconst arrayUnion = firebase.firestore.FieldValue.arrayUnion;\r\nconst arrayRemove = firebase.firestore.FieldValue.arrayRemove;\r\n\r\n// =========> All The Action Types \r\n// Chat Request\r\nexport const chatRequest = () => {\r\n    return {\r\n        type: CHAT_FETCH_REQUEST,\r\n        payload: null\r\n    }\r\n}\r\n\r\n// Chat Success\r\nexport const chatSuccess = (data) => {\r\n    return {\r\n        type: CHAT_FETCH_SUCCESS,\r\n        payload: data\r\n    }\r\n}\r\n\r\n// Chat Error\r\nexport const chatError = (error=null) => {\r\n    return {\r\n        type: CHAT_FETCH_ERROR,\r\n        payload: error\r\n    }\r\n}\r\n\r\nexport const requestConversation = (data = null) => \r\n{\r\n    return {\r\n        type: REQUEST_CONVERSATION,\r\n        payload: data\r\n    }\r\n}\r\nexport const setConversation = (data = null) => {\r\n    return {\r\n        type: SET_CONVERSATION,\r\n        payload: data,\r\n    }\r\n}\r\n\r\nexport const updateConversation = (data = null) => {\r\n    return {\r\n        type: UPDATE_CONVERSATION,\r\n        payload: data,\r\n    }\r\n}\r\n\r\n// Set Alert\r\nexport const setAlert = (data) => {\r\n    return {\r\n        type: CHAT_SET_ALERT,\r\n        payload: data\r\n    }\r\n}\r\n\r\n// Remove Alert\r\nexport const removeAlert = (data) => {\r\n    return {\r\n        type: CHAT_REMOVE_ALERT,\r\n        payload: data\r\n    }\r\n}\r\n\r\n\r\n//=========================> All The Actions\r\n\r\n// Get All Message\r\nexport const getAllFriends = (uid) => {\r\n    return async dispatch => {\r\n        db.collection('users').onSnapshot((querySnapshot) => {\r\n            const friends = [];\r\n            querySnapshot.forEach(function(doc) {\r\n                if(doc.data().uid !== uid) {\r\n                    friends.push(doc.data());\r\n                }\r\n            })\r\n            if(friends.length)\r\n                getLastSender(friends, uid, dispatch);\r\n        })\r\n    }\r\n}\r\n\r\nconst getLastSender = async(friends, uid, dispatch) => {\r\n    db.collection('users').doc(uid).get()\r\n    .then(user => {\r\n        let lastMessage = user.data().lastMessage;\r\n        if(lastMessage) {\r\n            let index = lastMessage.length;\r\n            lastMessage.map((item) => {\r\n                index--;\r\n                let oldIndex = friends.findIndex(friend => friend.uid === item);\r\n                let newArray = array_move(friends, oldIndex, index);\r\n                dispatch(chatSuccess(newArray));\r\n            })\r\n        } else {\r\n            dispatch(chatSuccess(friends));\r\n        }\r\n        \r\n    })\r\n}\r\n\r\nfunction array_move(arr, old_index, new_index) {\r\n    if (new_index >= arr.length) {\r\n        var k = new_index - arr.length + 1;\r\n        while (k--) {\r\n            arr.push(undefined);\r\n        }\r\n    }\r\n    arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\r\n    return arr; // for testing\r\n};\r\n\r\n// Send Message\r\nexport const saveMessage = async({uuid, sender, receiver, message}) => {\r\n    // Save Message\r\n    rdb.child(sender + \"-\" + receiver).push().set({\r\n        uuid,\r\n        sender,\r\n        receiver,\r\n        message,\r\n        isSeen: false,\r\n        createdAt: firebase.database.ServerValue.TIMESTAMP\r\n    })\r\n    // Save Total Unseen Message\r\n    rdb.child(sender + \"-\" + receiver)\r\n            .orderByChild('isSeen')\r\n            .equalTo(false).once('value')\r\n            .then(data => {\r\n                let totalUnseen = Object.keys(data.val()).length;\r\n                db.collection('users').doc(sender).update({pending: arrayRemove({receiver: receiver, totalUnseen: totalUnseen - 1})});\r\n                db.collection('users').doc(sender).update({pending: arrayUnion({receiver, totalUnseen})});\r\n\r\n                db.collection('users').doc(receiver).update({lastMessage: arrayRemove(sender)});\r\n                db.collection('users').doc(receiver).update({lastMessage: arrayUnion(sender)});\r\n                \r\n                db.collection('users').doc(sender).update({lastMessage: arrayRemove(receiver)});\r\n                db.collection('users').doc(sender).update({lastMessage: arrayUnion(receiver)});\r\n\r\n            });\r\n}\r\n\r\n// Get Conversation\r\nexport const getConversation = ({sender, receiver}) => {\r\n    return async dispatch => {\r\n        dispatch(requestConversation());\r\n        // Sender to Receiver Message\r\n        rdb.child(sender + \"-\" + receiver).on('child_added', snap => {\r\n           dispatch(setConversation(snap.val()));\r\n        })\r\n\r\n        // Receiver to Sender Message\r\n        rdb.child(receiver + \"-\" + sender).on('child_added', snap => {\r\n            if(!snap.val().isSeen) {\r\n                rdb.child(receiver + \"-\" + sender).child(snap.key).update({isSeen: true});\r\n                db.collection('users').doc(receiver).update({pending: arrayRemove({reciver: sender})});\r\n                removeTotalUnseen(sender, receiver);\r\n            }\r\n            dispatch(setConversation(snap.val()));\r\n        })\r\n\r\n        // Message Status Change Event Listener\r\n        rdb.child(sender + \"-\" + receiver).on('child_changed', snap => {\r\n            dispatch(updateConversation(snap.val()))\r\n        })\r\n    }  \r\n}\r\n\r\nexport const removeLister = (sender, receiver) => {\r\n    rdb.child(sender + \"-\" + receiver).off('child_added');\r\n    rdb.child(sender + \"-\" + receiver).off('child_changed');\r\n    rdb.child(receiver + \"-\" + sender).off('child_added');\r\n}\r\n\r\nconst removeTotalUnseen = (sender, receiver) => {\r\n    db.collection('users').doc(receiver).get().then(snap => {\r\n        snap.data().pending.map(item => {\r\n            if (item.receiver === sender) {\r\n                db.collection('users').doc(receiver).update({pending: arrayRemove({receiver: sender, totalUnseen: item.totalUnseen})});;\r\n            }\r\n            return null;\r\n        })\r\n    })\r\n}","import React, { Fragment } from 'react';\r\n\r\nconst ConversationComponent = ({conversation, selectedFriend, user}) => {\r\n   sortCoversation(conversation)\r\n\r\n  return conversation.map((item, key) => {\r\n       \r\n    // Date Time\r\n    let createdAt = undefined;\r\n    if(item.createdAt != null) {\r\n      let options = { day: 'numeric', month: 'short'};\r\n      createdAt = new Date(item.createdAt).toLocaleString('en', options);\r\n      createdAt += \" \" + new Date(item.createdAt).toLocaleTimeString([], {timeStyle: 'short'});\r\n    }\r\n\r\n    return (item.sender === selectedFriend.uid && item.receiver === user.uid) || (item.sender === user.uid && item.receiver === selectedFriend.uid)\r\n    ? <Fragment key={key}>\r\n        <div style={{ textAlign: item.sender === user.uid ? 'right' : 'left'}}>\r\n            <p className={item.sender === user.uid ? 'messageStyle right-message' : 'messageStyle left-message'} >{item.message}<br/>\r\n              <span className=\"message-time\">{ createdAt ? createdAt : '' }</span>\r\n              {item.receiver !== user.uid && <span className=\"message-status\">{item.isSeen ? <i className=\"far fa-eye\"></i> : <i className=\"far fa-eye-slash\"></i>}</span>}\r\n            </p>\r\n        </div>\r\n      </Fragment>\r\n    : <Fragment key={key}></Fragment>\r\n  })\r\n}\r\n\r\nconst sortCoversation = (data) => {\r\n  data.sort((a, b) => a.createdAt - b.createdAt);\r\n}\r\n\r\nexport default ConversationComponent;  ","export default __webpack_public_path__ + \"static/media/brand.9a2e4c42.png\";","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport brandIcon from '../Utils/images/brand.png' ;\r\n\r\nconst Sidebar = ({uid, selectFriend, friends, selectedFriend}) => {\r\n    \r\n    // Bar Click Listener\r\n    const barClick = () => {\r\n        const bar = document.getElementsByClassName('navigation')[0];\r\n        if(window.innerWidth < 600) {\r\n          if(bar.offsetWidth < 300) {\r\n            bar.style.width = \"300px\";\r\n            document.getElementsByClassName('bar-area')[0].style.width = \"300px\";\r\n          } else {\r\n              bar.style.width = \"55px\";\r\n              document.getElementsByClassName('bar-area')[0].style.width = \"55px\";\r\n          }\r\n        }\r\n    }\r\n\r\n    return <Fragment>\r\n        <div className=\"navigation\">\r\n            <div className=\"bar-area\">\r\n                <div className=\"brand-panel\" onClick={barClick}>\r\n                    <img className=\"brand-icon\" alt=\"\" src={brandIcon} />\r\n                </div>\r\n                <div className=\"chat-option\" style={{borderBottom:'2px solid green', borderTop: '8px solid green', background: '#00800036'}}>\r\n                  <span className=\"icon icon-private\"><i className=\"fas fa-user\"></i></span>\r\n                  <span className=\"title title-private\">Private</span>\r\n                </div> \r\n                <Link to='/group' className=\"selected-option\">\r\n                  <div className=\"chat-option\" style={{borderBottom:'8px solid green'}}>\r\n                    <span className=\"icon\"><i className=\"fas fa-users\"></i></span>\r\n                    <span className=\"title\">Group</span>\r\n                  </div>\r\n                </Link>\r\n            </div>\r\n            <ul>\r\n                {friends.length && <LoadFriends\r\n                                            uid={uid}\r\n                                            selectFriend={selectFriend}\r\n                                            friends={friends}\r\n                                            selectedFriend={selectedFriend} />}\r\n            </ul>\r\n        </div>\r\n    </Fragment>\r\n}\r\n\r\nconst LoadFriends = ({friends, selectFriend, uid, selectedFriend}) => {\r\n    // Check Pending Message \r\n    const checkUnseen = (friend) => {\r\n     \r\n      if(friend.pending) {\r\n        let flg = friend.pending.filter(item => item.receiver === uid);\r\n        if(flg.length) {\r\n          return flg[0].totalUnseen;\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  \r\n    return friends.map((friend, index) => \r\n          {\r\n            let pending =  checkUnseen(friend);\r\n            return(\r\n            <li key={index}>\r\n              <div style={selectedFriend.uid === friend.uid ? {background: '#0a762233'} : {}} key={index} onClick = {() => selectFriend(friend)}>\r\n                  {pending && <span className=\"pending-message\">{pending}</span>}\r\n                  <span className=\"icon\">{friend.firstName[0].toUpperCase() + \"\" + friend.lastName[0].toUpperCase()}</span>\r\n                  <span className=\"title\">{friend.firstName + \" \" + friend.lastName}</span>\r\n              </div>\r\n            </li>\r\n            );\r\n          }\r\n    )\r\n  }\r\n\r\nexport default Sidebar;","export default __webpack_public_path__ + \"static/media/chat-image.c91efea0.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJGSURBVHgBzZZBktJAFIb/1yEMglVkvIAto2uztJyx9AizdCdH0MXAUtfjBk4gnMDxBDMuXKsHsIgnEBcqIunn656KBQhCmsD4V6VDkU7ypfO+7gTV1sHr4LBembwbfsQVRhFYK6jetdatQaWln+CKEoRH+/dkHxMoku24dBg1ZRuWjqKvMkpD7CgKjGT6D4FxI0RM59V241WlrTV2EEWMz4sOWCCBbCpWg10AKXk7H1b2mgKqndyJsYVQ9FRH47L6kuskogtmdL+ffjpDQSHbVFsNCxIhZxicyPZidJr0sWEcSK3VeM9iDjyTAVXGeDPsJF6mBbbJFIZnMvUnAR6X79/YDx7Uk7zqK9fOKbwBkJbmuY9pDmSZwhslp/qXI7KOwhsC1doH59fbtx8t6+aK1Udhf67FplH2w8J8C6FDhZsMpRVDG+aYyGpNhU9i80C07onhiY7LUDErPJSrHMNj3lkGRCk/mwGxRRWYMEKQxoZRJ6s0UyTVLHtoFJuhXL+Xjk131EmS6RoZoKCnXAVgjOlUJuhOT34l2/wKQw2k24aYARjNHXQgioxOsZ0w8wUT97KiHC3p50BS8F0UHAdgrXiZvF2nvwMRd+xHUDEA4DOB6KwLMANi1wjejMS9f0zQtwbAIw5EnsB3wlpogBeIUzentnYSks+0zt5P019kgBfIZK8kk5VZq/N8Af5AcSkR88rRyGuAF8g/1WX0DExvmwB/QC5X1hljCivAXCB2mWf+G6CIAswFIjeXBZab2Rf4rgH+u/wG/EI5+joR+/8AAAAASUVORK5CYII=\"","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport Picker from 'emoji-picker-react';\r\n\r\n// User Define\r\nimport './../Utils/css/font-awesome.css';\r\nimport './style.css';\r\nimport { getAllFriends, getConversation, removeLister, saveMessage } from '../../Redux/Chat/ChatActions';\r\nimport ConversationComponent from './ConversationComponent';\r\nimport Sidebar from './Sidebar';\r\nimport chatImage from '../Utils/images/chat-image.png'\r\nimport sendIcon from '../Utils/images/send-icon.png';\r\n\r\n/**\r\n* @author DhavalBheda\r\n* @function Chat\r\n**/\r\n\r\nconst Chat = (props) => {\r\n  \r\n  const { user } = useSelector(state => state.User);\r\n  const { conversation } = useSelector(state => state.Chat);\r\n  const { friends } = useSelector(state => state.Chat);\r\n  const [startChat, setStartChat] = useState(false);\r\n  const [selectedFriend, setSelectedFriend] = useState({});\r\n  const [text, setText] = useState('');\r\n  const [emojiPickerClick, setEmojiPickerClick] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n      dispatch(getAllFriends(user.uid))\r\n  }, [dispatch,user.uid])\r\n\r\n  useEffect(() => {\r\n    return () => removeLister(user.uid, selectedFriend.uid);\r\n  }, [selectedFriend, user.uid]);\r\n  \r\n\r\n   // Friend Click Listener\r\n  const selectFriend = (friend) => {\r\n    if(selectedFriend && selectedFriend.uid === friend.uid)\r\n      return;\r\n    setStartChat(true);\r\n    setEmojiPickerClick(false);\r\n    setText('');\r\n    setSelectedFriend(friend);  \r\n    dispatch(getConversation({\r\n        sender: user.uid,\r\n        receiver: friend.uid}))\r\n  }\r\n\r\n  // Message Send Button\r\n  const sendMessage = () => {\r\n    if(text === '')\r\n      return;\r\n    setText('');\r\n    const data = {\r\n      uuid: uuidv4(),\r\n      sender: user.uid,\r\n      receiver: selectedFriend.uid,\r\n      message: text\r\n    }\r\n    saveMessage(data);\r\n  }\r\n\r\n  // Emoji Button Click Listener\r\n  const onEmojiClick = (event, {emoji}) => {\r\n    setText(text +  emoji);\r\n  };\r\n\r\n  //Body Click \r\n  const containerBodyClick = () => {\r\n    if(window.innerWidth < 600) {\r\n      const bar = document.getElementsByClassName('navigation')[0];\r\n      if(bar.offsetWidth > 55) {\r\n          bar.style.width = \"55px\";\r\n          document.getElementsByClassName('bar-area')[0].style.width = \"55px\";\r\n      }\r\n    }\r\n  }\r\n\r\n  return(\r\n        <Fragment>\r\n        <div className=\"main-container\">\r\n            {/* <!-- Sidebar --> */}\r\n          <Sidebar\r\n                uid={user.uid}\r\n                selectFriend={selectFriend}\r\n                friends={friends}\r\n                selectedFriend={selectedFriend} />\r\n\r\n            {/* <!-- Chat Body --> */}\r\n           \r\n              <div className=\"container-body\" onClick={containerBodyClick}>\r\n\r\n                {/* <!-- Chat Header --> */}\r\n              {startChat ?  \r\n              <Fragment>\r\n                <div className=\"friend-name\">\r\n                    <span>{startChat && selectedFriend.firstName + \" \" + selectedFriend.lastName}</span>\r\n                </div>\r\n                \r\n                {/* Message Area */}\r\n                <ScrollToBottom className=\"message-section\">\r\n                  <ConversationComponent \r\n                                        conversation = {conversation}\r\n                                        selectedFriend = {selectedFriend} \r\n                                        user = {user}/>\r\n                </ScrollToBottom>\r\n\r\n                {/* <!-- Control Area --> */}\r\n                <ControlComponent \r\n                                text={text} \r\n                                setText={setText}\r\n                                setEmojiPickerClick={setEmojiPickerClick}\r\n                                sendMessage={sendMessage}\r\n                                emojiPickerClick={emojiPickerClick}\r\n                                onEmojiClick={onEmojiClick} />\r\n            </Fragment>\r\n            : //Brand Name\r\n              <div className=\"chat-image-div\">\r\n                <img className=\"temp\" style={{width:'100%'}} src={chatImage} alt=\"\" />\r\n              </div>\r\n            }\r\n            </div> \r\n\r\n        </div>\r\n    </Fragment>\r\n   )\r\n}\r\n\r\n\r\n\r\nconst ControlComponent = ({text, setText, setEmojiPickerClick, sendMessage, emojiPickerClick, onEmojiClick}) => {\r\n\r\n  return <Fragment>\r\n    <div className=\"chat-control\">\r\n      <div className=\"control\">\r\n          <textarea\r\n                  placeholder = 'Enter Text...'\r\n                  value = {text}              \r\n                  onChange = {e => {\r\n                    if (e.target.value[e.target.value.length - 1] !== '\\n')\r\n                      setText(e.target.value)\r\n                    else \r\n                      sendMessage()\r\n                  }}\r\n                  >\r\n\r\n          </textarea>\r\n          <span className=\"smile-icon\" onClick={e=> setEmojiPickerClick(!emojiPickerClick)}><i className=\"fas fa-smile\"></i></span>\r\n          <span className=\"send-icon\" onClick={sendMessage}>\r\n            <img style={{width: '30px'}} src={sendIcon} alt=\"\" />\r\n          </span>\r\n      </div>\r\n      {emojiPickerClick && <Picker onEmojiClick={onEmojiClick} />}\r\n    </div>\r\n  </Fragment>\r\n}\r\nexport default Chat;","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({Component, path, ...rest}) => {\r\n    const { authenticated } = useSelector(state => state.User);\r\n\r\n    return <Fragment>\r\n        {!authenticated\r\n        ? (<Redirect to=\"/signin\" />)\r\n        : <Route exact {...rest} path={path} render={Component} />\r\n        }\r\n    </Fragment>\r\n}\r\nexport default PrivateRoute","export const ROOM_FETCH_REQUEST = 'ROOM_FETCH_REQUEST';\r\nexport const ROOM_FETCH_SUCCESS = 'ROOM_FETCH_SUCCESS';\r\nexport const ROOM_FETCH_ERROR = 'ROOM_FETCH_ERROR';\r\nexport const ROOM_SET_ALERT = 'ROOM_SET_ALERT';\r\nexport const ROOM_REMOVE_ALERT = 'ROOM_REMOVE_ALERT';\r\nexport const ROOM_REQUEST_CONVERSATION = 'ROOM_REQUEST_CONVERSATION'; \r\nexport const ROOM_SET_CONVERSATION = 'ROOM_SET_CONVERSATION';\r\nexport const UPDATE_CONVERSATION = 'UPDATE_CONVERSATION';","import  { ROOM_FETCH_REQUEST, ROOM_FETCH_SUCCESS, ROOM_REQUEST_CONVERSATION, ROOM_SET_CONVERSATION } from './ActionType'\r\nimport firebase from './../../config/firebaseConfig';\r\n\r\nconst db = firebase.firestore();\r\nconst rdb = firebase.database().ref().child('rooms');\r\n\r\n// =========> All The Action Types \r\n// Room Request\r\nexport const roomRequest = () => {\r\n    return {\r\n        type: ROOM_FETCH_REQUEST,\r\n        payload: null\r\n    }\r\n}\r\n\r\n// Room Success\r\nexport const roomSuccess = (data) => {\r\n    return {\r\n        type: ROOM_FETCH_SUCCESS,\r\n        payload: data\r\n    }\r\n}\r\n\r\n// Request Conversation\r\nexport const requestConversation = (data = null) => \r\n{\r\n    return {\r\n        type: ROOM_REQUEST_CONVERSATION,\r\n        payload: data\r\n    }\r\n}\r\n\r\n// Set Conversation\r\nexport const setConversation = (data = null) => {\r\n    return {\r\n        type: ROOM_SET_CONVERSATION,\r\n        payload: data,\r\n    }\r\n}\r\n\r\n\r\n//=========================> All The Actions\r\n\r\n// Get All Rooms\r\nexport const getAllRooms = () => {\r\n    return async dispatch => {\r\n        const unsubscribe = db.collection('rooms').onSnapshot((querySnapshot) => {\r\n            const rooms = [];\r\n            querySnapshot.forEach(function(doc) {\r\n                doc.data().name.map(item => rooms.push(item));\r\n            });\r\n            dispatch(roomSuccess(rooms));\r\n        })\r\n        return unsubscribe;\r\n    }\r\n}\r\n\r\n\r\n// Send Message\r\nexport const saveMessage = async({uuid, name, sender, roomid, message}) => {\r\n    // Save Message\r\n    rdb.child(roomid).push().set({\r\n        uuid,\r\n        name,\r\n        sender,\r\n        roomid,\r\n        message,\r\n        createdAt: firebase.database.ServerValue.TIMESTAMP\r\n    })\r\n}\r\n\r\n// Get All Conversation\r\nexport const getConversation = (roomid) => {\r\n    return async dispatch => {\r\n        dispatch(requestConversation());\r\n        rdb.child(roomid).on('child_added', snap => {\r\n           dispatch(setConversation(snap.val()));\r\n        })\r\n    }\r\n}\r\n\r\nexport const removeLister = (roomid) => {\r\n    if(roomid)\r\n        rdb.child(roomid).off('child_added');\r\n}","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport brandIcon from '../Utils/images/brand.png' ;\r\nimport userIcon from '../Utils/images/user-icon.png';\r\n\r\nconst Sidebar = ({uid, rooms, selectRoom, selectedRoom}) => {\r\n    \r\n    // Bar Click Listener\r\n    const barClick = () => {\r\n        const bar = document.getElementsByClassName('navigation')[0];\r\n        if(bar.offsetWidth < 300) {\r\n            bar.style.width = \"300px\";\r\n            document.getElementsByClassName('bar-area')[0].style.width = \"300px\";\r\n        } else {\r\n            bar.style.width = \"55px\";\r\n            document.getElementsByClassName('bar-area')[0].style.width = \"55px\";\r\n        }\r\n    }\r\n\r\n    return <Fragment>\r\n        <div className=\"navigation\">\r\n            <div className=\"bar-area\">\r\n                <div className=\"brand-panel\" onClick={barClick}>\r\n                    <img className=\"brand-icon\" alt=\"\" src={brandIcon} />\r\n                </div>\r\n                <Link to='/' className=\"selected-option\">\r\n                    <div className=\"chat-option\" style = {{borderBottom:'2px solid green', borderTop: '8px solid green'}} >\r\n                        <span className=\"icon icon-private\"><i class=\"fas fa-user\"></i></span>\r\n                        <span className=\"title title-private\">Private</span>\r\n                    </div>\r\n                </Link>\r\n                <div className=\"chat-option\" style={{borderBottom:'8px solid green', background: '#00800036'}}>\r\n                  <span className=\"icon\"><i class=\"fas fa-users\"></i></span>\r\n                  <span className=\"title\">Group</span>\r\n                </div>\r\n            </div>\r\n            <ul>\r\n                {rooms.length > 0 && <LoadRooms\r\n                                            uid={uid}\r\n                                            selectRoom={selectRoom}\r\n                                            rooms={rooms}\r\n                                            selectedRoom={selectedRoom} />}\r\n            </ul>\r\n        </div>\r\n    </Fragment>\r\n}\r\n\r\nconst LoadRooms = ({rooms, selectedRoom, selectRoom }) => {\r\n\r\n    return rooms.map((room, index) => \r\n          {\r\n            return(\r\n            <li key={index}>\r\n               <div style={selectedRoom.uid === room.uid ? {background: '#0a762233'} : {}} key={index} onClick = {() => selectRoom(room)}>\r\n                  <span><img className=\"icon\" width={'45px'} style={{background: 'none'}} src={userIcon} alt=\"\" /></span>\r\n                  <span className=\"title\">{room.name}</span>\r\n              </div>\r\n            </li>\r\n            );\r\n          }\r\n    )\r\n  }\r\n\r\nexport default Sidebar;","export default \"data:image/png;base64,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\"","import React, { Fragment } from 'react';\r\n\r\nconst ConversationComponent = ({conversation, selectedRoom, user}) => {\r\n   sortCoversation(conversation)\r\n\r\n  return conversation.map((item, key) => {\r\n       \r\n    // Date Time\r\n    let createdAt = undefined;\r\n    if(item.createdAt != null) {\r\n      let options = { day: 'numeric', month: 'short'};\r\n      createdAt = new Date(item.createdAt).toLocaleString('en', options);\r\n      createdAt += \" \" + new Date(item.createdAt).toLocaleTimeString([], {timeStyle: 'short'});\r\n    }\r\n\r\n    return (item.roomid === selectedRoom.uid)\r\n    ? <Fragment key={key}>\r\n        <div style={{ textAlign: item.sender === user.uid ? 'right' : 'left'}}>\r\n            <p className={item.sender === user.uid ? 'messageStyle right-message' : 'messageStyle left-message'}>\r\n              <span className=\"sender-message\">{item.name}</span>\r\n              <br/>{item.message}<br/>\r\n              <span className=\"message-time\">{ createdAt ? createdAt : '' }</span>\r\n            </p>\r\n        </div>\r\n      </Fragment>\r\n    : <Fragment key={key}></Fragment>\r\n  })\r\n}\r\n\r\nconst sortCoversation = (data) => {\r\n  data.sort((a, b) => a.createdAt - b.createdAt);\r\n}\r\n\r\nexport default ConversationComponent;  ","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport Picker from 'emoji-picker-react';\r\n\r\n// User Define\r\nimport './../Utils/css/font-awesome.css';\r\n// import './style.css';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllRooms, getConversation, removeLister, saveMessage } from \"../../Redux/Room/RoomAction\";\r\nimport Sidebar from './Sidebar';\r\nimport ConversationComponent from './ConversationComponent';\r\nimport chatImage from '../Utils/images/chat-image.png'\r\nimport sendIcon from '../Utils/images/send-icon.png';\r\n\r\nconst Room = () => {\r\n    const { user } = useSelector(state => state.User);\r\n    const { rooms, conversation } = useSelector(state => state.Room);\r\n    const [startChat, setStartChat] = useState(false);\r\n    const [ selectedRoom, setSelecedRoom ] = useState({});\r\n    const [text, setText] = useState('');\r\n    const [emojiPickerClick, setEmojiPickerClick] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getAllRooms());\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n      return () => removeLister(selectedRoom.uid);\r\n    },[selectedRoom]);\r\n\r\n    // Room Click Event Listener\r\n    const selectRoom = (room) => {\r\n        if(selectedRoom && selectedRoom.uid === room.uid)\r\n        return;\r\n\r\n        // If Firsh Time Click\r\n        if(!startChat)\r\n            setStartChat(true);\r\n        \r\n        setSelecedRoom(room);\r\n        setEmojiPickerClick(false);\r\n        setText('');\r\n        dispatch(getConversation(room.uid));\r\n    }\r\n\r\n    // Message Send Button\r\n  const sendMessage = () => {\r\n    if(text === '')\r\n      return;\r\n    const data = {\r\n      uuid: uuidv4(),\r\n      name: user.firstName + \" \"+ user.lastName,\r\n      sender: user.uid,\r\n      roomid: selectedRoom.uid,\r\n      message: text\r\n    }\r\n    saveMessage(data);\r\n    setText('');\r\n  }\r\n\r\n  // Emoji Button Click Listener\r\n  const onEmojiClick = (event, {emoji}) => {\r\n    setText(text +  emoji);\r\n  };\r\n\r\n   //Body Click \r\n   const containerBodyClick = () => {\r\n    if(window.innerWidth < 600) {\r\n      const bar = document.getElementsByClassName('navigation')[0];\r\n      if(bar.offsetWidth > 55) {\r\n          bar.style.width = \"55px\";\r\n          document.getElementsByClassName('bar-area')[0].style.width = \"55px\";\r\n      }\r\n    }\r\n  }\r\n  return <Fragment>\r\n        <div className=\"main-container\">\r\n          {/* <!-- Sidebar --> */}\r\n          <Sidebar\r\n              uid={user.uid}\r\n              rooms={rooms}\r\n              selectRoom={selectRoom}\r\n              selectedRoom={selectedRoom} />\r\n          \r\n          {/* <!-- Chat Body --> */}\r\n          <div className=\"container-body\" onClick={containerBodyClick}>\r\n            {/* <!-- Chat Header --> */}\r\n            {startChat \r\n            ? <Fragment>\r\n                <div className=\"friend-name\">\r\n                    <span>{startChat && selectedRoom.name}</span>\r\n                </div>\r\n\r\n                {/* Message Area */}\r\n                <ScrollToBottom className=\"message-section\">\r\n                  {\r\n                    startChat && <ConversationComponent \r\n                                    conversation = {conversation}\r\n                                    selectedRoom = {selectedRoom} \r\n                                    user = {user} />\r\n                  }\r\n                </ScrollToBottom>\r\n\r\n                {/* <!-- Control Area --> */}\r\n                <ControlComponent \r\n                            text={text} \r\n                            setText={setText}\r\n                            setEmojiPickerClick={setEmojiPickerClick}\r\n                            sendMessage={sendMessage}\r\n                            emojiPickerClick={emojiPickerClick}\r\n                            onEmojiClick={onEmojiClick} />\r\n              </Fragment>\r\n            : <div className=\"chat-image-div\">\r\n                <img className=\"temp\" style={{width:'100%'}} src={chatImage} alt=\"\" />\r\n              </div>\r\n                  \r\n            }\r\n          </div>      \r\n        </div>\r\n    </Fragment>\r\n}\r\n\r\n\r\nconst ControlComponent = ({text, setText, setEmojiPickerClick, sendMessage, emojiPickerClick, onEmojiClick}) => {\r\n    return <Fragment>\r\n      <div className=\"chat-control\">\r\n        <div className=\"control\">\r\n            <textarea\r\n                    placeholder = 'Enter Text...'\r\n                    value = {text}\r\n                    onChange = {e => {\r\n                      if (e.target.value[e.target.value.length - 1] !== '\\n')\r\n                        setText(e.target.value)\r\n                      else \r\n                        sendMessage()\r\n                    }}>\r\n            </textarea>\r\n            <span className=\"smile-icon\" onClick={e=> setEmojiPickerClick(!emojiPickerClick)}><i className=\"fas fa-smile\"></i></span>\r\n            <span className=\"send-icon\" onClick={sendMessage}>\r\n              <img style={{width: '30px'}} src={sendIcon} alt=\"\" />\r\n            </span>\r\n        </div>\r\n        {emojiPickerClick && <Picker onEmojiClick={onEmojiClick} />}\r\n      </div>\r\n    </Fragment>\r\n  }\r\n\r\nexport default Room;","export const USER_FETCH_REQUEST = 'USER_FETCH_REQUEST'\r\nexport const USER_FETCH_SUCCESS = 'USER_FETCH_SUCCESS'\r\nexport const USER_FETCH_ERROR = 'USER_FETCH_ERROR'\r\nexport const USER_LOG_OUT = 'USER_LOG_OUT'\r\nexport const SET_ALERT = 'SET_ALERT'\r\nexport const REMOVE_ALERT = 'REMOVE_ALERT'\r\nexport const TAB_CHANGE = 'TAB_CHANGE'\r\n","import  { USER_FETCH_REQUEST, USER_FETCH_ERROR, USER_FETCH_SUCCESS, SET_ALERT, REMOVE_ALERT, USER_LOG_OUT, TAB_CHANGE } from './ActionType'\r\nimport firebase from './../../config/firebaseConfig';\r\nconst db =firebase.firestore();\r\nconst auth = firebase.auth();\r\n\r\n// =====================> All The Action Types \r\nexport const fetchRequest = () => {\r\n    return {\r\n        type: USER_FETCH_REQUEST,\r\n        payload: null\r\n    }\r\n}\r\n\r\nexport const fetchSuccess = (data) => {\r\n    return {\r\n        type: USER_FETCH_SUCCESS,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const fetchError = (error=null) => {\r\n    return {\r\n        type: USER_FETCH_ERROR,\r\n        payload: error\r\n    }\r\n}\r\n\r\nexport const reqLogOut = () => {\r\n    return {\r\n        type: USER_LOG_OUT,\r\n        payload: null\r\n    }\r\n}\r\nexport const setTabChange = (data) => {\r\n    return {\r\n        type: TAB_CHANGE,\r\n        payload: data\r\n    }\r\n}\r\nexport const setAlert = (data) => {\r\n    return {\r\n        type: SET_ALERT,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const removeAlert = (data) => {\r\n    return {\r\n        type: REMOVE_ALERT,\r\n        payload: data\r\n    }\r\n}\r\n\r\n\r\n//=========================> All The Actions\r\n\r\n// Register User\r\nexport const signUpUser = (user, confirmPassword) => {\r\n    return dispatch => {\r\n        if(user.password !== confirmPassword) {\r\n            dispatch(setAlert({type:'danger', message: \"Password and Confirm Password does not match\"}))\r\n            setTimeout(() => dispatch(removeAlert()), 3000);\r\n        } else {\r\n            dispatch(fetchRequest());\r\n            registerUserWithEmail(user, dispatch);\r\n        } \r\n    }\r\n}\r\n\r\n// Register User With Email\r\nconst registerUserWithEmail = (data, dispatch) => {\r\n    // Creating A User With Email And Password\r\n    auth.createUserWithEmailAndPassword(data.email, data.password)\r\n    .then(user => {\r\n        updateCurrentUserDetail(user, data, dispatch);\r\n    })\r\n    .catch(error => {\r\n        dispatch(setAlert({type:'danger', message: error.message}))\r\n        setTimeout(() => dispatch(removeAlert()), 3000);\r\n    })\r\n}\r\n\r\n// Upadate Current User Detail\r\nconst updateCurrentUserDetail = (user, data, dispatch) => {\r\n    const { firstName, lastName, email } = data;\r\n    const currentUser = auth.currentUser;\r\n    currentUser.updateProfile({ firstName, lastName,})\r\n    .then( () => {\r\n        saveToDatabase(user.user.uid, firstName, lastName, email, dispatch);        \r\n    })\r\n    \r\n}\r\n\r\n// Save To The Database(Firestore)\r\nconst saveToDatabase = (uid, firstName, lastName, email, dispatch ) => {\r\n    db.collection('users').doc(uid).set({\r\n        firstName,\r\n        lastName,\r\n        email,\r\n        uid,\r\n        isActive: true,\r\n        pending: [],\r\n        lastMessage: null,\r\n        createdAt: new Date()\r\n    })\r\n    .then(() => {\r\n        dispatch(fetchSuccess({firstName, lastName, email, uid}));\r\n        dispatch(setAlert({type:'success', message: \"User Registerd Successfull\"}))\r\n        setTimeout(() => dispatch(removeAlert()), 3000);\r\n    })\r\n    .catch(error => {\r\n        dispatch(setAlert({type:'danger', message: error.message}))\r\n        setTimeout(() => dispatch(removeAlert()), 3000);\r\n    })\r\n}\r\n\r\n// Fetch Current User Detail\r\nexport const fetchCurrentUserDetail = () => {\r\n    return dispatch => {\r\n        // Check If user is signedin or not\r\n        auth.onAuthStateChanged( async(user) => {\r\n            if (user) {\r\n                const userRef = firebase.firestore().collection('users').doc(user.uid);\r\n                const doc = await userRef.get();\r\n                if (!doc.exists) {\r\n                    dispatch(setAlert({type:'danger', message: \"Your Account Terminated, So Please Register With New Email..\"}));\r\n                    setTimeout(() => dispatch(removeAlert()), 3000);\r\n                    dispatch(fetchError(''));\r\n                } else {\r\n                    const {firstName, lastName, email, uid} = doc.data();\r\n                    dispatch(fetchSuccess({firstName, lastName, email, uid}));\r\n                }\r\n            } else {\r\n                dispatch(setAlert({type:'warning', message: \"You Logged Out Please Login\"}));\r\n                setTimeout(() => dispatch(removeAlert()), 3000);\r\n                dispatch(fetchError(''));\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n// Sign In Action\r\nexport const signInUser = (data) => {\r\n    return async dispatch => {\r\n        if(data.email === '' || data.password < 6) {\r\n            dispatch(setAlert({type:'warning', message: \"Email is required!\\n Password Must be more than 6 letter\"}));\r\n            setTimeout(() => dispatch(removeAlert()), 3000);\r\n        } else {\r\n            dispatch(fetchRequest());\r\n            auth.signInWithEmailAndPassword(data.email, data.password)\r\n            .then((user) => {\r\n                db.collection('users').doc(user.user.uid).update({\r\n                    isActive: true\r\n                })\r\n                .then(() => {\r\n                    localStorage.setItem('userId', user.user.uid);\r\n                    dispatch(setAlert({type:'success', message: 'Sign In Successfully'}));\r\n                    setTimeout(() => dispatch(removeAlert()), 3000);\r\n                })\r\n                .catch(error => {\r\n                    dispatch(setAlert({type:'danger', message: error.message}))\r\n                    setTimeout(() => dispatch(removeAlert()), 3000);\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch(setAlert({type:'danger', message: error.message}))\r\n                setTimeout(() => dispatch(removeAlert()), 3000);\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n// Logout User\r\nexport const logoutUser = (uid) => {\r\n    return dispatch => {\r\n        dispatch(fetchRequest());\r\n        db.collection('users').doc(uid)\r\n        .update({isActive: false})\r\n        .then(() => {\r\n            auth.signOut()\r\n            .then(() => {\r\n                dispatch(reqLogOut());\r\n                dispatch(setAlert({type:'success', message: \"Logout Successfully\"}))\r\n                setTimeout(() => dispatch(removeAlert()), 3000);\r\n            })\r\n            .catch(error => {\r\n                dispatch(setAlert({type:'danger', message: error.message}))\r\n                setTimeout(() => dispatch(removeAlert()), 3000);\r\n            })   \r\n        })\r\n        .catch(error => {\r\n            dispatch(setAlert({type:'danger', message: error.message}))\r\n            setTimeout(() => dispatch(removeAlert()), 3000);\r\n        })\r\n        \r\n    }\r\n}\r\n\r\nexport const userTabChange = (uid, friendId) => {\r\n  return async dispatch => db.collection('users').doc(uid)\r\n        .update({currentTab: friendId})\r\n        .then(() => {\r\n            dispatch(setTabChange(friendId));\r\n        })\r\n}","import React, { Fragment } from 'react'\r\n\r\nconst Alert = ({alert}) => {\r\n    return <Fragment>\r\n        <div className={`alert alert-${alert.type} alert-dismissible fade show mt-3`} style={{zIndex: 1}} role=\"alert\">\r\n            <strong>{alert.message} !</strong>\r\n        </div>\r\n    </Fragment> \r\n}\r\nexport default Alert","import React, { useState } from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { signInUser } from './../../Redux/User/UserActions';\r\nimport Alert from '../Layout/Alert';\r\nimport './style.css'\r\n\r\n\r\n/**\r\n* @author DhavalBheda\r\n* @function SignIn Component\r\n **/\r\n\r\nconst SignIn = () => {\r\n    const { userAlert, authenticated } = useSelector(state => state.User);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const dispatch = useDispatch();\r\n\r\n    const onsubmit = (e) => {\r\n        e.preventDefault();\r\n        dispatch(signInUser({ email, password}));\r\n    }\r\n    return  <div className=\"container\">\r\n                {userAlert && <Alert alert={userAlert} />}\r\n                {authenticated && <Redirect to=\"/\" />}\r\n                <div className=\"row justify-content-center justify-content-md-center\">\r\n                    <div className=\"col-10 col-md-4 login-form align-self-center py-3\">\r\n                        <form>\r\n                            <div className=\"form-group row\">\r\n                                <img alt=\"signin\" src=\"https://media.giphy.com/media/kcZlnhiaB1p76tKS6S/giphy.gif\" />\r\n                            </div>\r\n                            <div className=\"form-group row \">\r\n                                <div className=\"col-12 col-md-11 offset-md-1\">\r\n                                    <div className=\"form-group row\">\r\n                                        <label htmlFor=\"staticEmail\" className=\"col-sm-2 col-form-label\">Email</label>\r\n                                    </div>\r\n                                    <div className=\"form-group row mb-4\">\r\n                                        <div className=\"col-sm-10\">\r\n                                            <input  type=\"text\"\r\n                                                    className=\"form-control\" \r\n                                                    id=\"staticEmail\" \r\n                                                    placeholder=\"email@example.com\"\r\n                                                    value={email}\r\n                                                    onChange={(e) => setEmail(e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <div className=\"col-12 col-md-11 offset-md-1\">\r\n                                    <div className=\"form-group row\">\r\n                                        <label htmlFor=\"inputPassword\" className=\"col-sm-2 col-form-label\">Password</label>\r\n                                    </div>\r\n                                    <div className=\"form-group row mb-4\">\r\n                                        <div className=\"col-sm-10\">\r\n                                            <input  type=\"password\"\r\n                                                    className=\"form-control\"\r\n                                                    id=\"inputPassword\"\r\n                                                    placeholder=\"Enter Password\"\r\n                                                    value={password}\r\n                                                    onChange={(e) => setPassword(e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group row justify-content-center\">\r\n                                <button className=\"btn btn-custom m-2\" onClick={e => onsubmit(e)}>Sign In</button>\r\n                                <NavLink to=\"/signup\" className=\"btn btn-custom m-2\">Sign Up</NavLink>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>;\r\n}\r\n \r\nexport default SignIn","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport { signUpUser } from '../../Redux/User/UserActions';\r\nimport Alert from '../Layout/Alert';\r\n\r\n/**\r\n* @author DhavalBheda\r\n* @function SignUp Component\r\n **/\r\n\r\nconst SignUp = () => {\r\n    const { userAlert, authenticated } = useSelector(state => state.User);\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const dispatch = useDispatch();\r\n\r\n    const onsubmit = (e) => {\r\n        e.preventDefault();\r\n       dispatch(signUpUser({firstName, lastName, email, password}, confirmPassword));\r\n    }\r\n\r\n    return  <div className=\"container\">\r\n                {authenticated && <Redirect to=\"/\" />}\r\n                {userAlert && <Alert alert={userAlert} />}\r\n                <div className=\"row justify-content-center justify-content-md-center\">\r\n                    <div className=\"col-10 col-md-4 login-form align-self-center\">\r\n                        <form>\r\n                            <div className=\"form-group row\">\r\n                                <img alt=\"signin\" src=\"https://media.giphy.com/media/kcZlnhiaB1p76tKS6S/giphy.gif\" />\r\n                            </div>\r\n                            {/* First Name */}\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"staticEmail\" className=\"col col-form-label align-self-start ml-md-5\">First Name</label>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center mb-4\">\r\n                                <div className=\"col-sm-10\">\r\n                                    <input  type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter First Name\"\r\n                                            value={firstName}\r\n                                            onChange={(e) => setFirstName(e.target.value)} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Last Name */}\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"staticEmail\" className=\"col col-form-label align-self-start ml-md-5\">Last Name</label>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center mb-4\">\r\n                                <div className=\"col-sm-10\">\r\n                                    <input  type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter Last Name\"\r\n                                            value={lastName}\r\n                                            onChange={(e) => setLastName(e.target.value)}  />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Email */}\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"staticEmail\" className=\"col col-form-label align-self-start ml-md-5\">Email</label>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center mb-4\">\r\n                                <div className=\"col-sm-10\">\r\n                                    <input  type=\"email\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter Email Id\"\r\n                                            value={email}\r\n                                            onChange={(e) => setEmail(e.target.value)} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Password */}\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"inputPassword\" className=\"col col-form-label ml-md-5\">Password</label>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center mb-4\">\r\n                                <div className=\"col-sm-10\">\r\n                                    <input  type=\"password\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter Password\"\r\n                                            value={password}\r\n                                            onChange={(e) => setPassword(e.target.value)} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Confirm Password */}\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"inputPassword\" className=\"col col-form-label ml-md-5\">Confirm Password</label>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center mb-4\">\r\n                                <div className=\"col-sm-10\">\r\n                                    <input  type=\"password\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter Confirm Password\"\r\n                                            value={confirmPassword}\r\n                                            onChange={(e) => setConfirmPassword(e.target.value)}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center\">\r\n                            <button className=\"btn btn-custom m-2\" onClick={(e) => onsubmit(e)}>Sign Up</button>\r\n                                <NavLink to=\"/signin\" className=\"btn btn-custom m-2\">I Have Account</NavLink>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>;\r\n}\r\n \r\nexport default SignUp","import { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {HashRouter as Router, Route} from 'react-router-dom';\r\nimport './App.css';\r\nimport Chat from './Components/ChatComponent/Chat';\r\nimport PrivateRoute from './Components/Layout/PrivateRoute';\r\nimport Room from './Components/RoomComponent/Room';\r\nimport SignIn from './Components/SignInComponent/SignIn';\r\nimport SignUp from './Components/SignUpComponent/SignUp';\r\nimport { fetchCurrentUserDetail } from './Redux/User/UserActions';\r\n\r\nconst App = () =>  {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(fetchCurrentUserDetail());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className=\"App\" style={{height:'100%'}}>\r\n        <Router>\r\n          <Route path=\"/signin\"  component={SignIn} />\r\n          <Route path=\"/signup\" component={SignUp} />\r\n          <PrivateRoute exact path=\"/group\" component={Room} />\r\n          <PrivateRoute exact path=\"/\" component={Chat} /> \r\n        </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App\r\n","import  { USER_FETCH_REQUEST, USER_FETCH_ERROR, USER_FETCH_SUCCESS, USER_LOG_OUT, SET_ALERT, REMOVE_ALERT, TAB_CHANGE } from './ActionType'\r\n\r\nconst initialState = {\r\n    user:{},\r\n    authenticated:false,\r\n    currentTab: null,\r\n    loadding: false,\r\n    userAlert: null\r\n}\r\n\r\nconst UserReducer = (state = initialState, action) => {\r\n    const {type, payload} = action\r\n    switch(type) {\r\n        case USER_FETCH_REQUEST:\r\n            return {\r\n                ...state,\r\n                loadding: true,\r\n            }\r\n        case USER_FETCH_SUCCESS:\r\n            return {\r\n                ...state,\r\n                user: payload,\r\n                loadding: false,\r\n                authenticated: true\r\n            }\r\n        case USER_FETCH_ERROR:\r\n        case USER_LOG_OUT:\r\n            return {\r\n                ...state,\r\n                user:{},\r\n                loadding: false,\r\n                authenticated: false\r\n            }\r\n        case TAB_CHANGE:\r\n            return {\r\n                ...state,\r\n                currentTab: payload\r\n            }\r\n        case SET_ALERT:\r\n            return {\r\n                ...state,\r\n                userAlert: payload\r\n            }\r\n        case REMOVE_ALERT:\r\n            return {\r\n                ...state,\r\n                userAlert: null\r\n            }\r\n        default:\r\n             return state\r\n    }\r\n} \r\n\r\nexport default UserReducer;","import  { CHAT_FETCH_REQUEST, CHAT_FETCH_ERROR, CHAT_FETCH_SUCCESS, CHAT_SET_ALERT, CHAT_REMOVE_ALERT, REQUEST_CONVERSATION, SET_CONVERSATION, UPDATE_CONVERSATION } from './ActionType'\r\n\r\nconst initialState = {\r\n    friends:[],\r\n    conversation: [],\r\n    loadding: false,\r\n    chatAlert: null\r\n}\r\n\r\nconst ChatReducer = (state = initialState, action) => {\r\n    const {type, payload} = action\r\n    switch(type) {\r\n        case CHAT_FETCH_REQUEST:\r\n            return {\r\n                ...state,\r\n                loadding: true,\r\n            }\r\n        case CHAT_FETCH_SUCCESS:\r\n            return {\r\n                ...state,\r\n                friends: payload,\r\n                loadding: false,\r\n            }\r\n        case CHAT_FETCH_ERROR:\r\n            return {\r\n                ...state,\r\n                friends:[],\r\n                loadding: false,\r\n            }\r\n        case REQUEST_CONVERSATION: \r\n            return {\r\n                ...state,\r\n                loadding: true,\r\n                conversation: []\r\n            }\r\n        case SET_CONVERSATION:\r\n            return {\r\n                ...state,\r\n                conversation: [...state.conversation, payload],\r\n                loadding: false\r\n            }\r\n        case UPDATE_CONVERSATION:\r\n            let conversation = state.conversation.filter(item => item.uuid !== payload.uuid);\r\n            return {\r\n                ...state,\r\n                conversation: [...conversation, payload],\r\n                loadding: false\r\n            }\r\n        case CHAT_SET_ALERT:\r\n            return {\r\n                ...state,\r\n                chatAlert: payload\r\n            }\r\n        case CHAT_REMOVE_ALERT:\r\n            return {\r\n                ...state,\r\n                chatAlert: null\r\n            }\r\n        default:\r\n             return state\r\n    }\r\n} \r\n\r\nexport default ChatReducer;","import  { ROOM_FETCH_REQUEST, ROOM_FETCH_ERROR, ROOM_FETCH_SUCCESS, ROOM_SET_ALERT, ROOM_REMOVE_ALERT, ROOM_REQUEST_CONVERSATION, ROOM_SET_CONVERSATION, UPDATE_CONVERSATION } from './ActionType'\r\n\r\nconst initialState = {\r\n    rooms:[],\r\n    conversation: [],\r\n    loadding: false,\r\n    roomAlert: null\r\n}\r\n\r\nconst RoomReducer = (state = initialState, action) => {\r\n    const {type, payload} = action;\r\n\r\n    switch(type) {\r\n        case ROOM_FETCH_REQUEST:\r\n            return {\r\n                ...state,\r\n                loadding: true,\r\n            }\r\n        case ROOM_FETCH_SUCCESS:\r\n            return {\r\n                ...state,\r\n                // rooms: [...payload, ...payload, ...payload, ...payload],\r\n                rooms: payload,\r\n                loadding: false,\r\n            }\r\n        case ROOM_FETCH_ERROR:\r\n            return {\r\n                ...state,\r\n                rooms:[],\r\n                loadding: false,\r\n            }\r\n        case ROOM_REQUEST_CONVERSATION: \r\n            return {\r\n                ...state,\r\n                loadding: true,\r\n                conversation: []\r\n            }\r\n        case ROOM_SET_CONVERSATION:\r\n            return {\r\n                ...state,\r\n                conversation: [...state.conversation, payload],\r\n                loadding: false\r\n            }\r\n        case UPDATE_CONVERSATION:\r\n            let conversation = state.conversation.filter(item => item.uuid !== payload.uuid);\r\n            return {\r\n                ...state,\r\n                conversation: [...conversation, payload],\r\n                loadding: false\r\n            }\r\n        case ROOM_SET_ALERT:\r\n            return {\r\n                ...state,\r\n                roomAlert: payload\r\n            }\r\n        case ROOM_REMOVE_ALERT:\r\n            return {\r\n                ...state,\r\n                roomAlert: null\r\n            }\r\n        default:\r\n             return state\r\n    }\r\n} \r\n\r\nexport default RoomReducer;","import { combineReducers } from 'redux'\r\n\r\nimport UserReducer from './User/UserReducer'\r\nimport ChatReducer from './Chat/ChatReducer'\r\nimport RoomReducer from './Room/RoomReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    User: UserReducer,\r\n    Chat: ChatReducer,\r\n    Room: RoomReducer\r\n})\r\n\r\nexport default rootReducer","import {applyMiddleware, createStore } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from './rootReducer'\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nexport default store","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport store from './Redux/store';\r\n\r\nclass BrowserUnload extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"beforeunload\", function confirmExit()\r\n      {\r\n        return \"show warning\";\r\n      } );\r\n }\r\n render() {\r\n   return <div></div>\r\n }\r\n}\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n     <Provider store={store}>\r\n      <App />\r\n      <BrowserUnload/>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}