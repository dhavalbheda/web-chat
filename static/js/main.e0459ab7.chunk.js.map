{"version":3,"sources":["Redux/Chat/ActionType.js","config/firebaseConfig.js","Redux/Chat/ChatActions.js","Components/ChatComponent/ConversationComponent.js","Components/Utils/images/brand.png","Components/Utils/images/user-icon.png","Components/ChatComponent/Sidebar.js","Components/Utils/images/chat-image.png","Components/ChatComponent/Chat.js","Components/Layout/PrivateRoute.js","Redux/Room/ActionType.js","Redux/Room/RoomAction.js","Components/RoomComponent/Sidebar.js","Components/RoomComponent/ConversationComponent.js","Components/RoomComponent/Room.js","Redux/User/ActionType.js","Redux/User/UserActions.js","Components/Layout/Alert.js","Components/SignInComponent/SignIn.js","Components/SignUpComponent/SignUp.js","App.js","Redux/User/UserReducer.js","Redux/Chat/ChatReducer.js","Redux/Room/RoomReducer.js","Redux/rootReducer.js","Redux/store.js","index.js"],"names":["CHAT_FETCH_REQUEST","CHAT_FETCH_SUCCESS","CHAT_FETCH_ERROR","CHAT_SET_ALERT","CHAT_REMOVE_ALERT","REQUEST_CONVERSATION","SET_CONVERSATION","UPDATE_CONVERSATION","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","rdb","database","ref","child","arrayUnion","FieldValue","arrayRemove","requestConversation","data","type","payload","setConversation","updateConversation","getLastSender","friends","uid","dispatch","a","collection","doc","get","then","user","lastMessage","index","findIndex","item","newArray","array_move","arr","old_index","new_index","length","k","push","undefined","splice","saveMessage","uuid","sender","receiver","message","set","isSeen","createdAt","ServerValue","TIMESTAMP","orderByChild","equalTo","once","totalUnseen","Object","keys","val","update","pending","removeTotalUnseen","snap","map","sortCoversation","sort","b","ConversationComponent","conversation","selectedFriend","key","Date","toLocaleString","day","month","toLocaleTimeString","timeStyle","style","textAlign","className","LoadFriends","selectFriend","friend","flg","filter","checkUnseen","background","onClick","src","userIcon","alt","firstName","lastName","Sidebar","bar","document","getElementsByClassName","offsetWidth","width","brandIcon","borderBottom","borderTop","class","to","ControlComponent","text","setText","setEmojiPickerClick","sendMessage","emojiPickerClick","onEmojiClick","placeholder","value","onChange","e","target","Chat","props","useSelector","state","User","useState","startChat","setStartChat","setSelectedFriend","useDispatch","useEffect","onSnapshot","querySnapshot","forEach","off","on","reciver","getConversation","uuidv4","event","emoji","chatImage","PrivateRoute","Component","path","rest","authenticated","exact","render","ROOM_FETCH_REQUEST","ROOM_FETCH_SUCCESS","ROOM_FETCH_ERROR","ROOM_SET_ALERT","ROOM_REMOVE_ALERT","ROOM_REQUEST_CONVERSATION","ROOM_SET_CONVERSATION","name","roomid","LoadRooms","rooms","selectedRoom","selectRoom","room","Room","setSelecedRoom","unsubscribe","USER_FETCH_REQUEST","USER_FETCH_SUCCESS","USER_FETCH_ERROR","USER_LOG_OUT","SET_ALERT","REMOVE_ALERT","TAB_CHANGE","auth","fetchRequest","fetchSuccess","fetchError","error","setAlert","removeAlert","registerUserWithEmail","createUserWithEmailAndPassword","email","password","updateCurrentUserDetail","catch","setTimeout","currentUser","updateProfile","isActive","localStorage","setItem","Alert","alert","zIndex","role","SignIn","userAlert","setEmail","setPassword","onsubmit","preventDefault","signInWithEmailAndPassword","htmlFor","id","SignUp","setFirstName","setLastName","confirmPassword","setConfirmPassword","signUpUser","App","onAuthStateChanged","userRef","exists","height","component","initialState","currentTab","loadding","UserReducer","action","chatAlert","ChatReducer","roomAlert","RoomReducer","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","BrowserUnload","window","addEventListener","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e0459ab7.chunk.js","sourcesContent":["export const CHAT_FETCH_REQUEST = 'CHAT_FETCH_REQUEST';\r\nexport const CHAT_FETCH_SUCCESS = 'CHAT_FETCH_SUCCESS';\r\nexport const CHAT_FETCH_ERROR = 'CHAT_FETCH_ERROR';\r\nexport const CHAT_SET_ALERT = 'CHAT_SET_ALERT';\r\nexport const CHAT_REMOVE_ALERT = 'CHAT_REMOVE_ALERT';\r\nexport const REQUEST_CONVERSATION = 'REQUEST_CONVERSATION'; \r\nexport const SET_CONVERSATION = 'SET_CONVERSATION';\r\nexport const UPDATE_CONVERSATION = 'UPDATE_CONVERSATION';\r\n\r\n","\r\nimport firebase from 'firebase';\r\n\r\n// Configuration of Firebase\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB3mUGEeVTQn7hbmoxUNncowRjwD-5y2TI\",\r\n  authDomain: \"digital-jalebi-ac363.firebaseapp.com\",\r\n  databaseURL: \"https://digital-jalebi-ac363-default-rtdb.firebaseio.com\",\r\n  projectId: \"digital-jalebi-ac363\",\r\n  storageBucket: \"digital-jalebi-ac363.appspot.com\",\r\n  messagingSenderId: \"105427663157\",\r\n  appId: \"1:105427663157:web:3e564360c7852fb4abb47c\",\r\n  measurementId: \"G-M2DJG8HX1P\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;\r\n","import  { CHAT_FETCH_REQUEST, CHAT_FETCH_ERROR, CHAT_FETCH_SUCCESS, CHAT_SET_ALERT, CHAT_REMOVE_ALERT, REQUEST_CONVERSATION, SET_CONVERSATION, UPDATE_CONVERSATION } from './ActionType'\r\nimport firebase from './../../config/firebaseConfig';\r\n\r\nconst db = firebase.firestore();\r\nconst rdb = firebase.database().ref().child('conversation');\r\nconst arrayUnion = firebase.firestore.FieldValue.arrayUnion;\r\nconst arrayRemove = firebase.firestore.FieldValue.arrayRemove;\r\n\r\n// =========> All The Action Types \r\n// Chat Request\r\nexport const chatRequest = () => {\r\n    return {\r\n        type: CHAT_FETCH_REQUEST,\r\n        payload: null\r\n    }\r\n}\r\n\r\n// Chat Success\r\nexport const chatSuccess = (data) => {\r\n    return {\r\n        type: CHAT_FETCH_SUCCESS,\r\n        payload: data\r\n    }\r\n}\r\n\r\n// Chat Error\r\nexport const chatError = (error=null) => {\r\n    return {\r\n        type: CHAT_FETCH_ERROR,\r\n        payload: error\r\n    }\r\n}\r\n\r\nexport const requestConversation = (data = null) => \r\n{\r\n    return {\r\n        type: REQUEST_CONVERSATION,\r\n        payload: data\r\n    }\r\n}\r\nexport const setConversation = (data = null) => {\r\n    return {\r\n        type: SET_CONVERSATION,\r\n        payload: data,\r\n    }\r\n}\r\n\r\nexport const updateConversation = (data = null) => {\r\n    return {\r\n        type: UPDATE_CONVERSATION,\r\n        payload: data,\r\n    }\r\n}\r\n\r\n// Set Alert\r\nexport const setAlert = (data) => {\r\n    return {\r\n        type: CHAT_SET_ALERT,\r\n        payload: data\r\n    }\r\n}\r\n\r\n// Remove Alert\r\nexport const removeAlert = (data) => {\r\n    return {\r\n        type: CHAT_REMOVE_ALERT,\r\n        payload: data\r\n    }\r\n}\r\n\r\n\r\n//=========================> All The Actions\r\n\r\n// Get All Message\r\nexport const getAllFriends = (uid) => {\r\n    return async dispatch => {\r\n        \r\n        db.collection('users').onSnapshot((querySnapshot) => {\r\n            const friends = [];\r\n            querySnapshot.forEach(function(doc) {\r\n                if(doc.data().uid !== uid)\r\n                    friends.push(doc.data());\r\n            })\r\n            if(friends.length)\r\n                getLastSender(friends, uid, dispatch);\r\n            \r\n        })\r\n    }\r\n}\r\n\r\nconst getLastSender = async(friends, uid, dispatch) => {\r\n    db.collection('users').doc(uid).get()\r\n    .then(user => {\r\n        let lastMessage = user.data().lastMessage;\r\n        let index = friends.findIndex(item => item.uid === lastMessage);\r\n        let newArray = array_move(friends, index, 0);\r\n        dispatch(chatSuccess(newArray));\r\n    })\r\n}\r\n\r\nfunction array_move(arr, old_index, new_index) {\r\n    if (new_index >= arr.length) {\r\n        var k = new_index - arr.length + 1;\r\n        while (k--) {\r\n            arr.push(undefined);\r\n        }\r\n    }\r\n    arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\r\n    return arr; // for testing\r\n};\r\n\r\n// Send Message\r\nexport const saveMessage = async({uuid, sender, receiver, message}) => {\r\n    // Save Message\r\n    rdb.child(sender + \"-\" + receiver).push().set({\r\n        uuid,\r\n        sender,\r\n        receiver,\r\n        message,\r\n        isSeen: false,\r\n        createdAt: firebase.database.ServerValue.TIMESTAMP\r\n    })\r\n    // Save Total Unseen Message\r\n    rdb.child(sender + \"-\" + receiver)\r\n            .orderByChild('isSeen')\r\n            .equalTo(false).once('value')\r\n            .then(data => {\r\n                let totalUnseen = Object.keys(data.val()).length;\r\n                db.collection('users').doc(sender).update({pending: arrayRemove({receiver: receiver, totalUnseen: totalUnseen - 1})});\r\n                db.collection('users').doc(sender).update({pending: arrayUnion({receiver, totalUnseen})});\r\n                db.collection('users').doc(receiver).update({lastMessage: sender});\r\n            });\r\n}\r\n\r\n// Get Conversation\r\nexport const getConversation = ({sender, receiver}) => {\r\n    return async dispatch => {\r\n        dispatch(requestConversation());\r\n        // Sender to Receiver Message\r\n        rdb.child(sender + \"-\" + receiver).on('child_added', snap => {\r\n           dispatch(setConversation(snap.val()));\r\n        })\r\n\r\n        // Receiver to Sender Message\r\n        rdb.child(receiver + \"-\" + sender).on('child_added', snap => {\r\n            if(!snap.val().isSeen) {\r\n                rdb.child(receiver + \"-\" + sender).child(snap.key).update({isSeen: true});\r\n                db.collection('users').doc(receiver).update({pending: arrayRemove({reciver: sender})});\r\n                removeTotalUnseen(sender, receiver);\r\n            }\r\n            dispatch(setConversation(snap.val()));\r\n        })\r\n\r\n        // Message Status Change Event Listener\r\n        rdb.child(sender + \"-\" + receiver).on('child_changed', snap => {\r\n            dispatch(updateConversation(snap.val()))\r\n        })\r\n    }  \r\n}\r\n\r\nexport const removeLister = (sender, receiver) => {\r\n    rdb.child(sender + \"-\" + receiver).off('child_added');\r\n    rdb.child(sender + \"-\" + receiver).off('child_changed');\r\n    rdb.child(receiver + \"-\" + sender).off('child_added');\r\n}\r\n\r\nconst removeTotalUnseen = (sender, receiver) => {\r\n    db.collection('users').doc(receiver).get().then(snap => {\r\n        snap.data().pending.map(item => {\r\n            if (item.receiver === sender) {\r\n                db.collection('users').doc(receiver).update({pending: arrayRemove({receiver: sender, totalUnseen: item.totalUnseen})});;\r\n            }\r\n            return null;\r\n        })\r\n    })\r\n}","import React, { Fragment } from 'react';\r\n\r\nconst ConversationComponent = ({conversation, selectedFriend, user}) => {\r\n   sortCoversation(conversation)\r\n\r\n  return conversation.map((item, key) => {\r\n       \r\n    // Date Time\r\n    let createdAt = undefined;\r\n    if(item.createdAt != null) {\r\n      let options = { day: 'numeric', month: 'short'};\r\n      createdAt = new Date(item.createdAt).toLocaleString('en', options);\r\n      createdAt += \" \" + new Date(item.createdAt).toLocaleTimeString([], {timeStyle: 'short'});\r\n    }\r\n\r\n    return (item.sender === selectedFriend.uid && item.receiver === user.uid) || (item.sender === user.uid && item.receiver === selectedFriend.uid)\r\n    ? <Fragment key={key}>\r\n        <div style={{ textAlign: item.sender === user.uid ? 'right' : 'left'}}>\r\n            <p className={item.sender === user.uid ? 'messageStyle right-message' : 'messageStyle left-message'} >{item.message}<br/>\r\n              <span className=\"message-time\">{ createdAt ? createdAt : '' }</span>\r\n              {item.receiver !== user.uid && <span className=\"message-status\">{item.isSeen ? <i className=\"far fa-eye\"></i> : <i className=\"far fa-eye-slash\"></i>}</span>}\r\n            </p>\r\n        </div>\r\n      </Fragment>\r\n    : <Fragment key={key}></Fragment>\r\n  })\r\n}\r\n\r\nconst sortCoversation = (data) => {\r\n  data.sort((a, b) => a.createdAt - b.createdAt);\r\n}\r\n\r\nexport default ConversationComponent;  ","export default __webpack_public_path__ + \"static/media/brand.9a2e4c42.png\";","export default \"data:image/png;base64,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\"","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport brandIcon from '../Utils/images/brand.png' ;\r\nimport userIcon from '../Utils/images/user-icon.png';\r\n\r\nconst Sidebar = ({uid, selectFriend, friends, selectedFriend}) => {\r\n    \r\n    // Bar Click Listener\r\n    const barClick = () => {\r\n        const bar = document.getElementsByClassName('navigation')[0];\r\n        if(bar.offsetWidth < 300) {\r\n            bar.style.width = \"300px\";\r\n            document.getElementsByClassName('bar-area')[0].style.width = \"300px\";\r\n        } else {\r\n            bar.style.width = \"55px\";\r\n            document.getElementsByClassName('bar-area')[0].style.width = \"55px\";\r\n        }\r\n    }\r\n\r\n    return <Fragment>\r\n        <div className=\"navigation\">\r\n            <div className=\"bar-area\">\r\n                <div className=\"brand-panel\" onClick={barClick}>\r\n                    <img className=\"brand-icon\" alt=\"\" src={brandIcon} />\r\n                </div>\r\n                <div className=\"chat-option\" style={{borderBottom:'2px solid green', borderTop: '8px solid green', background: '#00800036'}}>\r\n                  <span className=\"icon icon-private\"><i class=\"fas fa-user\"></i></span>\r\n                  <span className=\"title title-private\">Private</span>\r\n                </div> \r\n                <Link to='/group' className=\"selected-option\">\r\n                  <div className=\"chat-option\" style={{borderBottom:'8px solid green'}}>\r\n                    <span className=\"icon\"><i class=\"fas fa-users\"></i></span>\r\n                    <span className=\"title\">Group</span>\r\n                  </div>\r\n                </Link>\r\n            </div>\r\n            <ul>\r\n                {friends.length && <LoadFriends\r\n                                            uid={uid}\r\n                                            selectFriend={selectFriend}\r\n                                            friends={friends}\r\n                                            selectedFriend={selectedFriend} />}\r\n            </ul>\r\n        </div>\r\n    </Fragment>\r\n}\r\n\r\nconst LoadFriends = ({friends, selectFriend, uid, selectedFriend}) => {\r\n    // Check Pending Message \r\n    const checkUnseen = (friend) => {\r\n     \r\n      if(friend.pending) {\r\n        let flg = friend.pending.filter(item => item.receiver === uid);\r\n        if(flg.length) {\r\n          return flg[0].totalUnseen;\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  \r\n    return friends.map((friend, index) => \r\n          {\r\n            let pending =  checkUnseen(friend);\r\n            return(\r\n            <li key={index}>\r\n              <div style={selectedFriend.uid === friend.uid ? {background: '#0a762233'} : {}} key={index} onClick = {() => selectFriend(friend)}>\r\n                  {pending && <span className=\"pending-message\">{pending}</span>}\r\n                  <span className=\"icon\"><img className=\"icon\" src={userIcon} alt=\"\" /></span>\r\n                  <span className=\"title\">{friend.firstName + \" \" + friend.lastName}</span>\r\n              </div>\r\n            </li>\r\n            );\r\n          }\r\n    )\r\n  }\r\n\r\nexport default Sidebar;","export default __webpack_public_path__ + \"static/media/chat-image.c91efea0.png\";","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport Picker from 'emoji-picker-react';\r\n\r\n// User Define\r\nimport './../Utils/css/font-awesome.css';\r\nimport './style.css';\r\nimport { getAllFriends, getConversation, removeLister, saveMessage } from '../../Redux/Chat/ChatActions';\r\nimport ConversationComponent from './ConversationComponent';\r\nimport Sidebar from './Sidebar';\r\nimport chatImage from '../Utils/images/chat-image.png'\r\n\r\n/**\r\n* @author DhavalBheda\r\n* @function Chat\r\n**/\r\n\r\nconst Chat = (props) => {\r\n  const { user } = useSelector(state => state.User);\r\n  const { conversation } = useSelector(state => state.Chat);\r\n  const { friends } = useSelector(state => state.Chat);\r\n  const [startChat, setStartChat] = useState(false);\r\n  const [selectedFriend, setSelectedFriend] = useState({});\r\n  const [text, setText] = useState('');\r\n  const [emojiPickerClick, setEmojiPickerClick] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n      dispatch(getAllFriends(user.uid))\r\n  }, [dispatch,user.uid])\r\n\r\n  useEffect(() => {\r\n    return () => removeLister(user.uid, selectedFriend.uid);\r\n  }, [selectedFriend, user.uid]);\r\n  \r\n\r\n   // Friend Click Listener\r\n  const selectFriend = (friend) => {\r\n    if(selectedFriend && selectedFriend.uid === friend.uid)\r\n      return;\r\n    setStartChat(true);\r\n    setEmojiPickerClick(false);\r\n    setText('');\r\n    setSelectedFriend(friend);  \r\n    dispatch(getConversation({\r\n        sender: user.uid,\r\n        receiver: friend.uid}))\r\n  }\r\n\r\n  // Message Send Button\r\n  const sendMessage = () => {\r\n    if(text === '')\r\n      return;\r\n    setText('');\r\n    const data = {\r\n      uuid: uuidv4(),\r\n      sender: user.uid,\r\n      receiver: selectedFriend.uid,\r\n      message: text\r\n    }\r\n    saveMessage(data);\r\n  }\r\n\r\n  // Emoji Button Click Listener\r\n  const onEmojiClick = (event, {emoji}) => {\r\n    setText(text +  emoji);\r\n  };\r\n\r\n\r\n  return(\r\n        <Fragment>\r\n        <div className=\"main-container\">\r\n            {/* <!-- Sidebar --> */}\r\n          <Sidebar\r\n                uid={user.uid}\r\n                selectFriend={selectFriend}\r\n                friends={friends}\r\n                selectedFriend={selectedFriend} />\r\n\r\n            {/* <!-- Chat Body --> */}\r\n           \r\n              <div className=\"container-body\">\r\n\r\n                {/* <!-- Chat Header --> */}\r\n              {startChat ?  \r\n              <Fragment>\r\n                <div className=\"friend-name\">\r\n                    <span>{startChat && selectedFriend.firstName + \" \" + selectedFriend.lastName}</span>\r\n                </div>\r\n                \r\n                {/* Message Area */}\r\n                <ScrollToBottom className=\"message-section\">\r\n                  <ConversationComponent \r\n                                        conversation = {conversation}\r\n                                        selectedFriend = {selectedFriend} \r\n                                        user = {user}/>\r\n                </ScrollToBottom>\r\n\r\n                {/* <!-- Control Area --> */}\r\n                <ControlComponent \r\n                                text={text} \r\n                                setText={setText}\r\n                                setEmojiPickerClick={setEmojiPickerClick}\r\n                                sendMessage={sendMessage}\r\n                                emojiPickerClick={emojiPickerClick}\r\n                                onEmojiClick={onEmojiClick} />\r\n            </Fragment>\r\n            : //Brand Name\r\n              <div className=\"chat-image-div\">\r\n                <img className=\"temp\" style={{width:'100%'}} src={chatImage} alt=\"\" />\r\n              </div>\r\n            }\r\n            </div> \r\n\r\n        </div>\r\n    </Fragment>\r\n   )\r\n}\r\n\r\n\r\n\r\nconst ControlComponent = ({text, setText, setEmojiPickerClick, sendMessage, emojiPickerClick, onEmojiClick}) => {\r\n  return <Fragment>\r\n    <div className=\"chat-control\">\r\n      <div className=\"control\">\r\n          <textarea\r\n                  placeholder = 'Enter Text...'\r\n                  value = {text}\r\n                  onChange = {e => {\r\n                      setText(e.target.value)\r\n                  }}>\r\n          </textarea>\r\n          <span className=\"smile-icon\" onClick={e=> setEmojiPickerClick(!emojiPickerClick)}><i className=\"fas fa-smile\"></i></span>\r\n          <span className=\"send-icon\" onClick={sendMessage}><i className=\"fas fa-paper-plane\"></i></span>\r\n      </div>\r\n      {emojiPickerClick && <Picker onEmojiClick={onEmojiClick} />}\r\n    </div>\r\n  </Fragment>\r\n}\r\nexport default Chat;","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({Component, path, ...rest}) => {\r\n    const { authenticated } = useSelector(state => state.User);\r\n\r\n    return <Fragment>\r\n        {!authenticated\r\n        ? (<Redirect to=\"/signin\" />)\r\n        : <Route exact {...rest} path={path} render={Component} />\r\n        }\r\n    </Fragment>\r\n}\r\nexport default PrivateRoute","export const ROOM_FETCH_REQUEST = 'ROOM_FETCH_REQUEST';\r\nexport const ROOM_FETCH_SUCCESS = 'ROOM_FETCH_SUCCESS';\r\nexport const ROOM_FETCH_ERROR = 'ROOM_FETCH_ERROR';\r\nexport const ROOM_SET_ALERT = 'ROOM_SET_ALERT';\r\nexport const ROOM_REMOVE_ALERT = 'ROOM_REMOVE_ALERT';\r\nexport const ROOM_REQUEST_CONVERSATION = 'ROOM_REQUEST_CONVERSATION'; \r\nexport const ROOM_SET_CONVERSATION = 'ROOM_SET_CONVERSATION';\r\nexport const UPDATE_CONVERSATION = 'UPDATE_CONVERSATION';","import  { ROOM_FETCH_REQUEST, ROOM_FETCH_SUCCESS, ROOM_REQUEST_CONVERSATION, ROOM_SET_CONVERSATION } from './ActionType'\r\nimport firebase from './../../config/firebaseConfig';\r\n\r\nconst db = firebase.firestore();\r\nconst rdb = firebase.database().ref().child('rooms');\r\n\r\n// =========> All The Action Types \r\n// Room Request\r\nexport const roomRequest = () => {\r\n    return {\r\n        type: ROOM_FETCH_REQUEST,\r\n        payload: null\r\n    }\r\n}\r\n\r\n// Room Success\r\nexport const roomSuccess = (data) => {\r\n    return {\r\n        type: ROOM_FETCH_SUCCESS,\r\n        payload: data\r\n    }\r\n}\r\n\r\n// Request Conversation\r\nexport const requestConversation = (data = null) => \r\n{\r\n    return {\r\n        type: ROOM_REQUEST_CONVERSATION,\r\n        payload: data\r\n    }\r\n}\r\n\r\n// Set Conversation\r\nexport const setConversation = (data = null) => {\r\n    return {\r\n        type: ROOM_SET_CONVERSATION,\r\n        payload: data,\r\n    }\r\n}\r\n\r\n\r\n//=========================> All The Actions\r\n\r\n// Get All Rooms\r\nexport const getAllRooms = () => {\r\n    return async dispatch => {\r\n        const unsubscribe = db.collection('rooms').onSnapshot((querySnapshot) => {\r\n            const rooms = [];\r\n            querySnapshot.forEach(function(doc) {\r\n                doc.data().name.map(item => rooms.push(item));\r\n            });\r\n            dispatch(roomSuccess(rooms));\r\n        })\r\n        return unsubscribe;\r\n    }\r\n}\r\n\r\n\r\n// Send Message\r\nexport const saveMessage = async({uuid, name, sender, roomid, message}) => {\r\n    // Save Message\r\n    rdb.child(roomid).push().set({\r\n        uuid,\r\n        name,\r\n        sender,\r\n        roomid,\r\n        message,\r\n        createdAt: firebase.database.ServerValue.TIMESTAMP\r\n    })\r\n}\r\n\r\n// Get All Conversation\r\nexport const getConversation = (roomid) => {\r\n    return async dispatch => {\r\n        dispatch(requestConversation());\r\n        rdb.child(roomid).on('child_added', snap => {\r\n           dispatch(setConversation(snap.val()));\r\n        })\r\n    }\r\n}\r\n\r\nexport const removeLister = (roomid) => {\r\n    if(roomid)\r\n        rdb.child(roomid).off('child_added');\r\n}","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport brandIcon from '../Utils/images/brand.png' ;\r\nimport userIcon from '../Utils/images/user-icon.png';\r\n\r\nconst Sidebar = ({uid, rooms, selectRoom, selectedRoom}) => {\r\n    \r\n    // Bar Click Listener\r\n    const barClick = () => {\r\n        const bar = document.getElementsByClassName('navigation')[0];\r\n        if(bar.offsetWidth < 300) {\r\n            bar.style.width = \"300px\";\r\n            document.getElementsByClassName('bar-area')[0].style.width = \"300px\";\r\n        } else {\r\n            bar.style.width = \"55px\";\r\n            document.getElementsByClassName('bar-area')[0].style.width = \"55px\";\r\n        }\r\n    }\r\n\r\n    return <Fragment>\r\n        <div className=\"navigation\">\r\n            <div className=\"bar-area\">\r\n                <div className=\"brand-panel\" onClick={barClick}>\r\n                    <img className=\"brand-icon\" alt=\"\" src={brandIcon} />\r\n                </div>\r\n                <Link to='/' className=\"selected-option\">\r\n                    <div className=\"chat-option\" style={{borderBottom:'2px solid green', borderTop: '8px solid green'}}>\r\n                    <span className=\"icon icon-private\"><i class=\"fas fa-user\"></i></span>\r\n                    <span className=\"title title-private\">Private</span>\r\n                    </div>\r\n                </Link>\r\n                <div className=\"chat-option\" style={{borderBottom:'8px solid green', background: '#00800036'}}>\r\n                  <span className=\"icon\"><i class=\"fas fa-users\"></i></span>\r\n                  <span className=\"title\">Group</span>\r\n                </div>\r\n            </div>\r\n            <ul>\r\n                {rooms.length > 0 && <LoadRooms\r\n                                            uid={uid}\r\n                                            selectRoom={selectRoom}\r\n                                            rooms={rooms}\r\n                                            selectedRoom={selectedRoom}\r\n                                             />}\r\n            </ul>\r\n        </div>\r\n    </Fragment>\r\n}\r\n\r\nconst LoadRooms = ({rooms, selectedRoom, selectRoom }) => {\r\n\r\n    return rooms.map((room, index) => \r\n          {\r\n            return(\r\n            <li key={index}>\r\n               <div style={selectedRoom.uid === room.uid ? {background: '#0a762233'} : {}} key={index} onClick = {() => selectRoom(room)}>\r\n                  {/* {pending && <span className=\"pending-message\">{pending}</span>} */}\r\n                  <span><img className=\"icon\" src={userIcon} alt=\"\" /></span>\r\n                  <span className=\"title\">{room.name}</span>\r\n              </div>\r\n            </li>\r\n            );\r\n          }\r\n    )\r\n  }\r\n\r\nexport default Sidebar;","import React, { Fragment } from 'react';\r\n\r\nconst ConversationComponent = ({conversation, selectedRoom, user}) => {\r\n   sortCoversation(conversation)\r\n\r\n  return conversation.map((item, key) => {\r\n       \r\n    // Date Time\r\n    let createdAt = undefined;\r\n    if(item.createdAt != null) {\r\n      let options = { day: 'numeric', month: 'short'};\r\n      createdAt = new Date(item.createdAt).toLocaleString('en', options);\r\n      createdAt += \" \" + new Date(item.createdAt).toLocaleTimeString([], {timeStyle: 'short'});\r\n    }\r\n\r\n    return (item.roomid === selectedRoom.uid)\r\n    ? <Fragment key={key}>\r\n        <div style={{ textAlign: item.sender === user.uid ? 'right' : 'left'}}>\r\n            <p className={item.sender === user.uid ? 'messageStyle right-message' : 'messageStyle left-message'}>\r\n              <span className=\"message-time\">{item.name}</span>\r\n              <br/>{item.message}<br/>\r\n              <span className=\"message-time\">{ createdAt ? createdAt : '' }</span>\r\n            </p>\r\n        </div>\r\n      </Fragment>\r\n    : <Fragment key={key}></Fragment>\r\n  })\r\n}\r\n\r\nconst sortCoversation = (data) => {\r\n  data.sort((a, b) => a.createdAt - b.createdAt);\r\n}\r\n\r\nexport default ConversationComponent;  ","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport Picker from 'emoji-picker-react';\r\n\r\n// User Define\r\nimport './../Utils/css/font-awesome.css';\r\nimport './style.css';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllRooms, getConversation, removeLister, saveMessage } from \"../../Redux/Room/RoomAction\";\r\nimport Sidebar from './Sidebar';\r\nimport ConversationComponent from './ConversationComponent';\r\nimport chatImage from '../Utils/images/chat-image.png'\r\n\r\n\r\nconst Room = () => {\r\n    const { user } = useSelector(state => state.User);\r\n    const { rooms, conversation } = useSelector(state => state.Room);\r\n    const [startChat, setStartChat] = useState(false);\r\n    const [ selectedRoom, setSelecedRoom ] = useState({});\r\n    const [text, setText] = useState('');\r\n    const [emojiPickerClick, setEmojiPickerClick] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getAllRooms());\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n      return () => removeLister(selectedRoom.uid);\r\n    },[selectedRoom]);\r\n\r\n    // Room Click Event Listener\r\n    const selectRoom = (room) => {\r\n        if(selectedRoom && selectedRoom.uid === room.uid)\r\n        return;\r\n\r\n        // If Firsh Time Click\r\n        if(!startChat)\r\n            setStartChat(true);\r\n        \r\n        setSelecedRoom(room);\r\n        setEmojiPickerClick(false);\r\n        setText('');\r\n        dispatch(getConversation(room.uid));\r\n    }\r\n\r\n    // Message Send Button\r\n  const sendMessage = () => {\r\n    if(text === '')\r\n      return;\r\n    const data = {\r\n      uuid: uuidv4(),\r\n      name: user.firstName + \" \"+ user.lastName,\r\n      sender: user.uid,\r\n      roomid: selectedRoom.uid,\r\n      message: text\r\n    }\r\n    saveMessage(data);\r\n    setText('');\r\n  }\r\n\r\n  // Emoji Button Click Listener\r\n  const onEmojiClick = (event, {emoji}) => {\r\n    setText(text +  emoji);\r\n  };\r\n\r\n\r\n    return <Fragment>\r\n        <div className=\"main-container\">\r\n          {/* <!-- Sidebar --> */}\r\n          <Sidebar\r\n              uid={user.uid}\r\n              rooms={rooms}\r\n              selectRoom={selectRoom}\r\n              selectedRoom={selectedRoom} />\r\n          \r\n          {/* <!-- Chat Body --> */}\r\n          <div className=\"container-body\">\r\n            {/* <!-- Chat Header --> */}\r\n            {startChat \r\n            ? <Fragment>\r\n                <div className=\"friend-name\">\r\n                    <span>{startChat && selectedRoom.name}</span>\r\n                </div>\r\n\r\n                {/* Message Area */}\r\n                <ScrollToBottom className=\"message-section\">\r\n                  {\r\n                    startChat && <ConversationComponent \r\n                                    conversation = {conversation}\r\n                                    selectedRoom = {selectedRoom} \r\n                                    user = {user} />\r\n                  }\r\n                </ScrollToBottom>\r\n\r\n                {/* <!-- Control Area --> */}\r\n                <ControlComponent \r\n                            text={text} \r\n                            setText={setText}\r\n                            setEmojiPickerClick={setEmojiPickerClick}\r\n                            sendMessage={sendMessage}\r\n                            emojiPickerClick={emojiPickerClick}\r\n                            onEmojiClick={onEmojiClick} />\r\n              </Fragment>\r\n            : <div className=\"chat-image-div\">\r\n                <img className=\"temp\" style={{width:'100%'}} src={chatImage} alt=\"\" />\r\n              </div>\r\n                  \r\n            }\r\n          </div>      \r\n        </div>\r\n    </Fragment>\r\n}\r\n\r\n\r\nconst ControlComponent = ({text, setText, setEmojiPickerClick, sendMessage, emojiPickerClick, onEmojiClick}) => {\r\n    return <Fragment>\r\n      <div className=\"chat-control\">\r\n        <div className=\"control\">\r\n            <textarea\r\n                    placeholder = 'Enter Text...'\r\n                    value = {text}\r\n                    onChange = {e => {\r\n                        setText(e.target.value)\r\n                    }}>\r\n            </textarea>\r\n            <span className=\"smile-icon\" onClick={e=> setEmojiPickerClick(!emojiPickerClick)}><i className=\"fas fa-smile\"></i></span>\r\n            <span className=\"send-icon\" onClick={sendMessage}><i className=\"fas fa-paper-plane\"></i></span>\r\n        </div>\r\n        {emojiPickerClick && <Picker onEmojiClick={onEmojiClick} />}\r\n      </div>\r\n    </Fragment>\r\n  }\r\n\r\nexport default Room;","export const USER_FETCH_REQUEST = 'USER_FETCH_REQUEST'\r\nexport const USER_FETCH_SUCCESS = 'USER_FETCH_SUCCESS'\r\nexport const USER_FETCH_ERROR = 'USER_FETCH_ERROR'\r\nexport const USER_LOG_OUT = 'USER_LOG_OUT'\r\nexport const SET_ALERT = 'SET_ALERT'\r\nexport const REMOVE_ALERT = 'REMOVE_ALERT'\r\nexport const TAB_CHANGE = 'TAB_CHANGE'\r\n","import  { USER_FETCH_REQUEST, USER_FETCH_ERROR, USER_FETCH_SUCCESS, SET_ALERT, REMOVE_ALERT, USER_LOG_OUT, TAB_CHANGE } from './ActionType'\r\nimport firebase from './../../config/firebaseConfig';\r\nconst db =firebase.firestore();\r\nconst auth = firebase.auth();\r\n\r\n// =====================> All The Action Types \r\nexport const fetchRequest = () => {\r\n    return {\r\n        type: USER_FETCH_REQUEST,\r\n        payload: null\r\n    }\r\n}\r\n\r\nexport const fetchSuccess = (data) => {\r\n    return {\r\n        type: USER_FETCH_SUCCESS,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const fetchError = (error=null) => {\r\n    return {\r\n        type: USER_FETCH_ERROR,\r\n        payload: error\r\n    }\r\n}\r\n\r\nexport const reqLogOut = () => {\r\n    return {\r\n        type: USER_LOG_OUT,\r\n        payload: null\r\n    }\r\n}\r\nexport const setTabChange = (data) => {\r\n    return {\r\n        type: TAB_CHANGE,\r\n        payload: data\r\n    }\r\n}\r\nexport const setAlert = (data) => {\r\n    return {\r\n        type: SET_ALERT,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const removeAlert = (data) => {\r\n    return {\r\n        type: REMOVE_ALERT,\r\n        payload: data\r\n    }\r\n}\r\n\r\n\r\n//=========================> All The Actions\r\n\r\n// Register User\r\nexport const signUpUser = (user, confirmPassword) => {\r\n    return dispatch => {\r\n        if(user.password !== confirmPassword) {\r\n            dispatch(setAlert({type:'danger', message: \"Password and Confirm Password does not match\"}))\r\n            setTimeout(() => dispatch(removeAlert()), 3000);\r\n        } else {\r\n            dispatch(fetchRequest());\r\n            registerUserWithEmail(user, dispatch);\r\n        } \r\n    }\r\n}\r\n\r\n// Register User With Email\r\nconst registerUserWithEmail = (data, dispatch) => {\r\n    // Creating A User With Email And Password\r\n    auth.createUserWithEmailAndPassword(data.email, data.password)\r\n    .then(user => {\r\n        updateCurrentUserDetail(user, data, dispatch);\r\n    })\r\n    .catch(error => {\r\n        dispatch(setAlert({type:'danger', message: error.message}))\r\n        setTimeout(() => dispatch(removeAlert()), 3000);\r\n    })\r\n}\r\n\r\n// Upadate Current User Detail\r\nconst updateCurrentUserDetail = (user, data, dispatch) => {\r\n    const { firstName, lastName, email } = data;\r\n    const currentUser = auth.currentUser;\r\n    currentUser.updateProfile({ firstName, lastName,})\r\n    .then( () => {\r\n        // Save To The Database\r\n        db.collection('users').doc(user.user.uid).set({\r\n            firstName,\r\n            lastName,\r\n            email,\r\n            uid: user.user.uid,\r\n            isActive: true,\r\n            pending: [],\r\n            lastMessage: null,\r\n            createdAt: new Date()\r\n        })\r\n        .then(() => {\r\n            localStorage.setItem('userId', user.user.uid);\r\n            dispatch(fetchSuccess({firstName, lastName, email, uid: user.user.uid}));\r\n            dispatch(setAlert({type:'success', message: \"User Registerd Successfull\"}))\r\n            setTimeout(() => dispatch(removeAlert()), 3000);\r\n        })\r\n    })\r\n    .catch(error => {\r\n        dispatch(setAlert({type:'danger', message: error.message}))\r\n        setTimeout(() => dispatch(removeAlert()), 3000);\r\n    })\r\n}\r\n\r\n// Fetch Current User Detail\r\nexport const fetchCurrentUserDetail = () => {\r\n    return dispatch => {\r\n        // Check If user is signedin or not\r\n        auth.onAuthStateChanged( async(user) => {\r\n            if (user) {\r\n                const userRef = firebase.firestore().collection('users').doc(user.uid);\r\n                const doc = await userRef.get();\r\n                if (!doc.exists) {\r\n                    dispatch(setAlert({type:'danger', message: \"Your Account Terminated, So Please Register With New Email..\"}));\r\n                    setTimeout(() => dispatch(removeAlert()), 3000);\r\n                    dispatch(fetchError(''));\r\n                } else {\r\n                    const {firstName, lastName, email, uid} = doc.data();\r\n                    dispatch(fetchSuccess({firstName, lastName, email, uid}));\r\n                }\r\n            } else {\r\n                dispatch(setAlert({type:'warning', message: \"You Logged Out Please Login\"}));\r\n                setTimeout(() => dispatch(removeAlert()), 3000);\r\n                dispatch(fetchError(''));\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n// Sign In Action\r\nexport const signInUser = (data) => {\r\n    return async dispatch => {\r\n        if(data.email === '' || data.password < 6) {\r\n            dispatch(setAlert({type:'warning', message: \"Email is required!\\n Password Must be more than 6 letter\"}));\r\n            setTimeout(() => dispatch(removeAlert()), 3000);\r\n        } else {\r\n            dispatch(fetchRequest());\r\n            auth.signInWithEmailAndPassword(data.email, data.password)\r\n            .then((user) => {\r\n                db.collection('users').doc(user.user.uid).update({\r\n                    isActive: true\r\n                })\r\n                .then(() => {\r\n                    localStorage.setItem('userId', user.user.uid);\r\n                    dispatch(setAlert({type:'success', message: 'Sign In Successfully'}));\r\n                    setTimeout(() => dispatch(removeAlert()), 3000);\r\n                })\r\n                .catch(error => {\r\n                    dispatch(setAlert({type:'danger', message: error.message}))\r\n                    setTimeout(() => dispatch(removeAlert()), 3000);\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch(setAlert({type:'danger', message: error.message}))\r\n                setTimeout(() => dispatch(removeAlert()), 3000);\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n// Logout User\r\nexport const logoutUser = (uid) => {\r\n    return dispatch => {\r\n        dispatch(fetchRequest());\r\n        db.collection('users').doc(uid)\r\n        .update({isActive: false})\r\n        .then(() => {\r\n            auth.signOut()\r\n            .then(() => {\r\n                dispatch(reqLogOut());\r\n                dispatch(setAlert({type:'success', message: \"Logout Successfully\"}))\r\n                setTimeout(() => dispatch(removeAlert()), 3000);\r\n            })\r\n            .catch(error => {\r\n                dispatch(setAlert({type:'danger', message: error.message}))\r\n                setTimeout(() => dispatch(removeAlert()), 3000);\r\n            })   \r\n        })\r\n        .catch(error => {\r\n            dispatch(setAlert({type:'danger', message: error.message}))\r\n            setTimeout(() => dispatch(removeAlert()), 3000);\r\n        })\r\n        \r\n    }\r\n}\r\n\r\nexport const userTabChange = (uid, friendId) => {\r\n  return async dispatch => db.collection('users').doc(uid)\r\n        .update({currentTab: friendId})\r\n        .then(() => {\r\n            dispatch(setTabChange(friendId));\r\n        })\r\n}","import React, { Fragment } from 'react'\r\n\r\nconst Alert = ({alert}) => {\r\n    return <Fragment>\r\n        <div className={`alert alert-${alert.type} alert-dismissible fade show mt-3`} style={{zIndex: 1}} role=\"alert\">\r\n            <strong>{alert.message} !</strong>\r\n        </div>\r\n    </Fragment> \r\n}\r\nexport default Alert","import React, { useState } from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { signInUser } from './../../Redux/User/UserActions';\r\nimport Alert from '../Layout/Alert';\r\nimport './style.css'\r\n\r\n\r\n/**\r\n* @author DhavalBheda\r\n* @function SignIn Component\r\n **/\r\n\r\nconst SignIn = () => {\r\n    const { userAlert, authenticated } = useSelector(state => state.User);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const dispatch = useDispatch();\r\n\r\n    const onsubmit = (e) => {\r\n        e.preventDefault();\r\n        dispatch(signInUser({ email, password}));\r\n    }\r\n    return  <div className=\"container\">\r\n                {userAlert && <Alert alert={userAlert} />}\r\n                {authenticated && <Redirect to=\"/\" />}\r\n                <div className=\"row justify-content-center justify-content-md-center\">\r\n                    <div className=\"col-10 col-md-4 login-form align-self-center py-3\">\r\n                        <form>\r\n                            <div className=\"form-group row\">\r\n                                <img alt=\"signin\" src=\"https://media.giphy.com/media/kcZlnhiaB1p76tKS6S/giphy.gif\" />\r\n                            </div>\r\n                            <div className=\"form-group row \">\r\n                                <div className=\"col-12 col-md-11 offset-md-1\">\r\n                                    <div className=\"form-group row\">\r\n                                        <label htmlFor=\"staticEmail\" className=\"col-sm-2 col-form-label\">Email</label>\r\n                                    </div>\r\n                                    <div className=\"form-group row mb-4\">\r\n                                        <div className=\"col-sm-10\">\r\n                                            <input  type=\"text\"\r\n                                                    className=\"form-control\" \r\n                                                    id=\"staticEmail\" \r\n                                                    placeholder=\"email@example.com\"\r\n                                                    value={email}\r\n                                                    onChange={(e) => setEmail(e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                                <div className=\"col-12 col-md-11 offset-md-1\">\r\n                                    <div className=\"form-group row\">\r\n                                        <label htmlFor=\"inputPassword\" className=\"col-sm-2 col-form-label\">Password</label>\r\n                                    </div>\r\n                                    <div className=\"form-group row mb-4\">\r\n                                        <div className=\"col-sm-10\">\r\n                                            <input  type=\"password\"\r\n                                                    className=\"form-control\"\r\n                                                    id=\"inputPassword\"\r\n                                                    placeholder=\"Enter Password\"\r\n                                                    value={password}\r\n                                                    onChange={(e) => setPassword(e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group row justify-content-center\">\r\n                                <button className=\"btn btn-custom m-2\" onClick={e => onsubmit(e)}>Sign In</button>\r\n                                <NavLink to=\"/signup\" className=\"btn btn-custom m-2\">Sign Up</NavLink>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>;\r\n}\r\n \r\nexport default SignIn","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport { signUpUser } from '../../Redux/User/UserActions';\r\nimport Alert from '../Layout/Alert';\r\n\r\n/**\r\n* @author DhavalBheda\r\n* @function SignUp Component\r\n **/\r\n\r\nconst SignUp = () => {\r\n    const { userAlert, authenticated } = useSelector(state => state.User);\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const dispatch = useDispatch();\r\n\r\n    const onsubmit = (e) => {\r\n        e.preventDefault();\r\n       dispatch(signUpUser({firstName, lastName, email, password}, confirmPassword));\r\n    }\r\n\r\n    return  <div className=\"container\">\r\n                {authenticated && <Redirect to=\"/\" />}\r\n                {userAlert && <Alert alert={userAlert} />}\r\n                <div className=\"row justify-content-center justify-content-md-center\">\r\n                    <div className=\"col-10 col-md-4 login-form align-self-center\">\r\n                        <form>\r\n                            <div className=\"form-group row\">\r\n                                <img alt=\"signin\" src=\"https://media.giphy.com/media/kcZlnhiaB1p76tKS6S/giphy.gif\" />\r\n                            </div>\r\n                            {/* First Name */}\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"staticEmail\" className=\"col col-form-label align-self-start ml-md-5\">First Name</label>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center mb-4\">\r\n                                <div className=\"col-sm-10\">\r\n                                    <input  type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter First Name\"\r\n                                            value={firstName}\r\n                                            onChange={(e) => setFirstName(e.target.value)} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Last Name */}\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"staticEmail\" className=\"col col-form-label align-self-start ml-md-5\">Last Name</label>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center mb-4\">\r\n                                <div className=\"col-sm-10\">\r\n                                    <input  type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter Last Name\"\r\n                                            value={lastName}\r\n                                            onChange={(e) => setLastName(e.target.value)}  />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Email */}\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"staticEmail\" className=\"col col-form-label align-self-start ml-md-5\">Email</label>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center mb-4\">\r\n                                <div className=\"col-sm-10\">\r\n                                    <input  type=\"email\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter Email Id\"\r\n                                            value={email}\r\n                                            onChange={(e) => setEmail(e.target.value)} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Password */}\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"inputPassword\" className=\"col col-form-label ml-md-5\">Password</label>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center mb-4\">\r\n                                <div className=\"col-sm-10\">\r\n                                    <input  type=\"password\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter Password\"\r\n                                            value={password}\r\n                                            onChange={(e) => setPassword(e.target.value)} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Confirm Password */}\r\n                            <div className=\"form-group row\">\r\n                                <label htmlFor=\"inputPassword\" className=\"col col-form-label ml-md-5\">Confirm Password</label>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center mb-4\">\r\n                                <div className=\"col-sm-10\">\r\n                                    <input  type=\"password\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter Confirm Password\"\r\n                                            value={confirmPassword}\r\n                                            onChange={(e) => setConfirmPassword(e.target.value)}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row justify-content-center\">\r\n                            <button className=\"btn btn-custom m-2\" onClick={(e) => onsubmit(e)}>Sign Up</button>\r\n                                <NavLink to=\"/signin\" className=\"btn btn-custom m-2\">I Have Account</NavLink>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>;\r\n}\r\n \r\nexport default SignUp","import { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {HashRouter as Router, Route} from 'react-router-dom';\r\nimport './App.css';\r\nimport Chat from './Components/ChatComponent/Chat';\r\nimport PrivateRoute from './Components/Layout/PrivateRoute';\r\nimport Room from './Components/RoomComponent/Room';\r\nimport SignIn from './Components/SignInComponent/SignIn';\r\nimport SignUp from './Components/SignUpComponent/SignUp';\r\nimport { fetchCurrentUserDetail } from './Redux/User/UserActions';\r\n\r\nconst App = () =>  {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(fetchCurrentUserDetail());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className=\"App\" style={{height:'100%'}}>\r\n        <Router>\r\n          <Route path=\"/signin\"  component={SignIn} />\r\n          <Route path=\"/signup\" component={SignUp} />\r\n          <PrivateRoute exact path=\"/group\" component={Room} />\r\n          <PrivateRoute exact path=\"/\" component={Chat} /> \r\n        </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App\r\n","import  { USER_FETCH_REQUEST, USER_FETCH_ERROR, USER_FETCH_SUCCESS, USER_LOG_OUT, SET_ALERT, REMOVE_ALERT, TAB_CHANGE } from './ActionType'\r\n\r\nconst initialState = {\r\n    user:{},\r\n    authenticated:false,\r\n    currentTab: null,\r\n    loadding: false,\r\n    userAlert: null\r\n}\r\n\r\nconst UserReducer = (state = initialState, action) => {\r\n    const {type, payload} = action\r\n    switch(type) {\r\n        case USER_FETCH_REQUEST:\r\n            return {\r\n                ...state,\r\n                loadding: true,\r\n            }\r\n        case USER_FETCH_SUCCESS:\r\n            return {\r\n                ...state,\r\n                user: payload,\r\n                loadding: false,\r\n                authenticated: true\r\n            }\r\n        case USER_FETCH_ERROR:\r\n        case USER_LOG_OUT:\r\n            return {\r\n                ...state,\r\n                user:{},\r\n                loadding: false,\r\n                authenticated: false\r\n            }\r\n        case TAB_CHANGE:\r\n            return {\r\n                ...state,\r\n                currentTab: payload\r\n            }\r\n        case SET_ALERT:\r\n            return {\r\n                ...state,\r\n                userAlert: payload\r\n            }\r\n        case REMOVE_ALERT:\r\n            return {\r\n                ...state,\r\n                userAlert: null\r\n            }\r\n        default:\r\n             return state\r\n    }\r\n} \r\n\r\nexport default UserReducer;","import  { CHAT_FETCH_REQUEST, CHAT_FETCH_ERROR, CHAT_FETCH_SUCCESS, CHAT_SET_ALERT, CHAT_REMOVE_ALERT, REQUEST_CONVERSATION, SET_CONVERSATION, UPDATE_CONVERSATION } from './ActionType'\r\n\r\nconst initialState = {\r\n    friends:[],\r\n    conversation: [],\r\n    loadding: false,\r\n    chatAlert: null\r\n}\r\n\r\nconst ChatReducer = (state = initialState, action) => {\r\n    const {type, payload} = action\r\n    switch(type) {\r\n        case CHAT_FETCH_REQUEST:\r\n            return {\r\n                ...state,\r\n                loadding: true,\r\n            }\r\n        case CHAT_FETCH_SUCCESS:\r\n            return {\r\n                ...state,\r\n                friends: payload,\r\n                loadding: false,\r\n            }\r\n        case CHAT_FETCH_ERROR:\r\n            return {\r\n                ...state,\r\n                friends:[],\r\n                loadding: false,\r\n            }\r\n        case REQUEST_CONVERSATION: \r\n            return {\r\n                ...state,\r\n                loadding: true,\r\n                conversation: []\r\n            }\r\n        case SET_CONVERSATION:\r\n            return {\r\n                ...state,\r\n                conversation: [...state.conversation, payload],\r\n                loadding: false\r\n            }\r\n        case UPDATE_CONVERSATION:\r\n            let conversation = state.conversation.filter(item => item.uuid !== payload.uuid);\r\n            return {\r\n                ...state,\r\n                conversation: [...conversation, payload],\r\n                loadding: false\r\n            }\r\n        case CHAT_SET_ALERT:\r\n            return {\r\n                ...state,\r\n                chatAlert: payload\r\n            }\r\n        case CHAT_REMOVE_ALERT:\r\n            return {\r\n                ...state,\r\n                chatAlert: null\r\n            }\r\n        default:\r\n             return state\r\n    }\r\n} \r\n\r\nexport default ChatReducer;","import  { ROOM_FETCH_REQUEST, ROOM_FETCH_ERROR, ROOM_FETCH_SUCCESS, ROOM_SET_ALERT, ROOM_REMOVE_ALERT, ROOM_REQUEST_CONVERSATION, ROOM_SET_CONVERSATION, UPDATE_CONVERSATION } from './ActionType'\r\n\r\nconst initialState = {\r\n    rooms:[],\r\n    conversation: [],\r\n    loadding: false,\r\n    roomAlert: null\r\n}\r\n\r\nconst RoomReducer = (state = initialState, action) => {\r\n    const {type, payload} = action;\r\n\r\n    switch(type) {\r\n        case ROOM_FETCH_REQUEST:\r\n            return {\r\n                ...state,\r\n                loadding: true,\r\n            }\r\n        case ROOM_FETCH_SUCCESS:\r\n            return {\r\n                ...state,\r\n                // rooms: [...payload, ...payload, ...payload, ...payload],\r\n                rooms: payload,\r\n                loadding: false,\r\n            }\r\n        case ROOM_FETCH_ERROR:\r\n            return {\r\n                ...state,\r\n                rooms:[],\r\n                loadding: false,\r\n            }\r\n        case ROOM_REQUEST_CONVERSATION: \r\n            return {\r\n                ...state,\r\n                loadding: true,\r\n                conversation: []\r\n            }\r\n        case ROOM_SET_CONVERSATION:\r\n            return {\r\n                ...state,\r\n                conversation: [...state.conversation, payload],\r\n                loadding: false\r\n            }\r\n        case UPDATE_CONVERSATION:\r\n            let conversation = state.conversation.filter(item => item.uuid !== payload.uuid);\r\n            return {\r\n                ...state,\r\n                conversation: [...conversation, payload],\r\n                loadding: false\r\n            }\r\n        case ROOM_SET_ALERT:\r\n            return {\r\n                ...state,\r\n                roomAlert: payload\r\n            }\r\n        case ROOM_REMOVE_ALERT:\r\n            return {\r\n                ...state,\r\n                roomAlert: null\r\n            }\r\n        default:\r\n             return state\r\n    }\r\n} \r\n\r\nexport default RoomReducer;","import { combineReducers } from 'redux'\r\n\r\nimport UserReducer from './User/UserReducer'\r\nimport ChatReducer from './Chat/ChatReducer'\r\nimport RoomReducer from './Room/RoomReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    User: UserReducer,\r\n    Chat: ChatReducer,\r\n    Room: RoomReducer\r\n})\r\n\r\nexport default rootReducer","import {applyMiddleware, createStore } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from './rootReducer'\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nexport default store","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport store from './Redux/store';\r\n\r\nclass BrowserUnload extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"beforeunload\", function confirmExit()\r\n      {\r\n        return \"show warning\";\r\n      } );\r\n }\r\n render() {\r\n   return <div></div>\r\n }\r\n}\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n     <Provider store={store}>\r\n      <App />\r\n      <BrowserUnload/>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}